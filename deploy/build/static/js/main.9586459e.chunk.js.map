{"version":3,"sources":["redux/action-types/adminUserTypes.js","redux/action-types/authTypes.js","redux/action-types/postTypes.js","redux/action-types/otherTypes.js","redux/action-types/categoryTypes.js","redux/action-types/sourceTypes.js","redux/reducers/index.js","redux/reducers/authReducer.js","redux/reducers/otherReducer.js","redux/reducers/categoryReducer.js","utils/halp.js","redux/reducers/postReducer.js","redux/reducers/sourceReducer.js","redux/reducers/adminUserReducer.js","store.js","styles/Elements.js","styles/GlobalStyle.js","styles/Themes.js","styles/components.js","plugins/axios.js","api/baseApi.js","api/blog.js","api/category.js","api/post.js","api/source.js","api/user.js","utils/token.js","redux/actions/authActions.js","components/Navbar.jsx","pages/Account.jsx","redux/actions/otherActions.js","components/admin/Blog.jsx","components/admin/CategoryCard.jsx","components/Modal.jsx","components/admin/Categories.jsx","redux/actions/categoryActions.js","redux/actions/sourceActions.js","components/admin/SourceForm.jsx","components/admin/SourceCard.jsx","components/admin/Sources.jsx","components/admin/UserCard.jsx","components/admin/Users.jsx","redux/actions/adminUserActions.js","pages/Admin.jsx","components/authoritaw/Signup.jsx","components/authoritaw/Login.jsx","pages/Authoritaw.jsx","components/slate/components/RenderButtons.jsx","components/slate/utils/Renderers.js","components/slate/utils/value.js","components/main/Bio.jsx","redux/actions/postActions.js","components/main/Criteria.jsx","components/main/Nav.jsx","components/main/SearchForm.jsx","components/main/styles/navStyles.js","components/main/Searchbar.jsx","components/slate/InlineEditor.jsx","components/main/styles/postStyles.js","components/main/PostMetaEdit.jsx","components/main/Post.jsx","components/main/Posts.jsx","pages/Main.jsx","components/slate/Editor.jsx","pages/PostEditor.jsx","pages/SinglePost.jsx","components/sources/SourceCard.jsx","pages/Sources.jsx","utils/Authentication.jsx","App.jsx","index.js"],"names":["ADD_MORE_USERS","DELETE_USER","EDIT_USER","SET_ALL_USERS","AUTHENTICATED","UNAUTHENTICATED","LOGIN_ERROR","SIGNUP_ERROR","UPDATE_ERROR","CLEAR_ERROR","SET_CURRENT_USER","LOGIN_USER","SIGNUP_USER","LOGOUT","SET_CURRENT_POST","SET_ALL_POSTS","ADD_POST_TO_POSTS","DELETE_POST","EDIT_POST_IN_POSTS","EDIT_USER_TAGS_IN_POST","ADD_MORE_POSTS","SET_BLOG_DATA","SET_SEARCH_CRITERIA","SET_SEARCH_COUNT","SET_ALL_CATEGORIES","EDIT_CATEGORY_IN_CATEGORIES","ADD_CATEGORY","DELETE_CATEGORY","SET_ALL_SOURCES","ADD_SOURCE_TO_SOURCES","EDIT_SOURCE_IN_SOURCES","DELETE_SOURCE","appReducer","combineReducers","auth","state","action","type","Auth","authenticated","loginError","payload","signupError","updateError","blog","categories","map","cat","id","filter","count","criteria","skip","take","orderBy","order","post","Post","posts","userTags","tags","sources","Source","source","user","adminUsers","rootReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","SpinnerWrap","styled","div","props","background","Spinner","span","border","theme","mainRed","nPurple","blue","size","GlobalStyle","createGlobalStyle","bg","text","black","Themes","mainGrey","white","red","yellow","orange","purple","green","nBlue","nRed","nYellow","nOrange","nGreen","RedBlueButton","button","height","width","PurpleGreenButton","MainButton","color","Label","label","Input","input","full","Select","select","Form","StyledForm","onSubmit","submit","style","children","hidden","form","Tags","p","ButtonContainer","axios","create","baseURL","BaseAPI","endpoint","this","query","get","querystring","stringify","item","put","delete","data","routes","me","login","register","update","reactivate","email","updateUserTags","adminListUsers","adminUpdateUser","adminDeactivateUser","status","adminDeleteUser","setAuthToken","token","localStorage","setItem","defaults","headers","common","resetAuthToken","removeItem","logout","dispatch","setError","errorMsg","errorType","clearError","connect","admin","acl","includes","history","useHistory","useState","location","setLocation","goTo","route","push","useEffect","pathname","Wrapper","onClick","className","title","disabled","header","mapDispatchToState","a","API","response","message","error","setEmail","username","setUsername","password","setPassword","confirmPw","setConfirmPw","handleInputChange","target","name","value","e","preventDefault","validate","changes","setTimeout","valid","onChange","Error","toLowerCase","saveBlogData","edit","console","log","setSearchCriteria","critieria","setCount","subtitle","setState","InputWrapper","CategoryCard","categoryInput","setCategoryInput","editable","setEditable","category","openDeleteModal","save","event","Card","autoFocus","length","Modal","closeModal","newState","close","items","i","show","Content","CloseBtn","Body","itemValue","display","fontSize","marginBottom","minWidth","maxWidth","ChildrenWrapper","hasChildren","Buttons","callback","confirmText","showCallbackTwo","callbackTwo","confirmTwoText","cancelText","deleteCategory","destroy","saveCategory","showDeleteModal","setShowDeleteModal","idToDelete","setIdToDelete","showInput","setShowInput","categoryId","listSources","saveSource","deleteSource","BIASES","CREDIBILITY","FACTUAL_REPORTING","setName","bias","setBias","factualReporting","setFactualReporting","credibility","setCredibility","setCategory","url","setUrl","factCheckUrl","setFactCheckUrl","toggleEditable","missingFields","isValid","join","cred","fax","split","href","rel","add","head","showSourceForm","setShowSourceForm","sourceId","toggleSourceForm","marginRight","s","openModal","UserCardWrapper","getAcl","format","Date","createdAt","users","setAction","modalMessage","setModalMessage","userIdToUpdate","setUserIdToUpdate","showModal","setShowModal","setAcl","setStatus","search","plus10","userId","result","addFriend","removeFriend","resetPassword","SearchWrapper","FormRow","borderBottom","cray","showing","setShowing","toggleView","Main","main","signup","signup_data","confirmation","setConfirmation","enterSandman","placeholder","toggleForms","credentials","showLogin","setShowLogin","to","LIST_TYPES","toggleMark","editor","isMarkActive","Editor","removeMark","addMark","isBlockActive","nodes","match","n","isEditor","SlateElement","isElement","marks","RenderButtons","MarkButton","icon","inline","useSlate","EditorBtn","active","onMouseDown","BlockButton","isActive","isList","Transforms","unwrapNodes","newProperties","setNodes","block","wrapNodes","toggleBlock","EditorBtnArray","visible","Element","attributes","element","BlockQuote","H1","H2","H3","P","Leaf","leaf","bold","code","borderRadius","italic","strikethrough","underline","RedSpan","BlueSpan","GreenSpan","YellowSpan","PurpleSpan","h1","initialValue","HOTKEYS","bio","JSON","parse","setValue","renderElement","useCallback","renderLeaf","useMemo","withHistory","withReact","createEditor","readonly","setReadonly","saveBio","v","backgroundColor","readOnly","onKeyDown","hotkey","isHotkey","onDoubleClick","section","getOnePost","getOne","getOnePublicPost","listPosts","listPublicPosts","savePost","friend","setDisplay","removeCriteria","criterion","clearSearch","startDate","endDate","substr","tagsArray","find","parseInt","setInitialDisplay","Object","keys","Remover","tag","index","tagsCopy","splice","joined","removeTag","searchHeight","setSearchHeight","searchWidth","setSearchWidth","transition","setTransition","shadow","setShadow","showSearch","setShowSearch","toggleSearch","setSearchProps","opacity","visibility","nav","SearchForm","c","Outer","visiblity","searchProps","getSearchCriteria","byDate","offset","getTimezoneOffset","start","addHours","end","clearAll","renderProps","cancelSearch","DisplayEditor","body","setReadOnly","maxHeight","overflowY","paddingRight","isAdmin","article","MetaData","Category","UserActions","DateWrapper","TagWrapper","TagInput","TagInputForm","PostMetaEditWrapper","PostMetaEdit","setTitle","setSubtitle","setCategoryId","public","isPublic","setIsPublic","checked","destroyPost","saveUserTags","newTags","setNewTags","newUserTags","setNewUserTags","showTagInput","setShowTagInput","showUserTagInput","setShowUserTagInput","showMetaEdit","setShowMetaEdit","openSingleEdit","from","addUserTags","forEach","trim","cursor","InlineEditor","byUserTag","removeUserTag","showScrollButton","setShowScrollButton","showModeButtons","setShowModeButtons","scrollBtnVisible","modeBtnsVisible","listener","scrollY","addEventListener","removeEventListener","PageWrapper","Modebuttons","night","mode","toggleMode","Header","ToTop","scrollTo","top","behavior","PostEditor","saveAndClose","cancel","EditorWrapper","boxShadow","padding","mapDispatchToProps","loading","setLoading","saving","setSaving","setTags","setPost","tagsToAdd","setTagsToAdd","setLocalVariables","bodyText","none","savedPost","params","zIndex","YeOldeInputs","htmlFor","YeOldeTagInputs","AddTag","copy","deleteTag","toAdd","buttonStyles","setButtonStyles","hideButtons","PrintNav","onMouseOver","onMouseLeave","print","Container","fontFamily","SourceCard","urlText","SourceTable","WuhTuhFuh","WrappedComponent","passedProps","Authentication","redirect","setRedirect","destination","setDestination","adminRequired","required","checkAuthenticated","dispatchProps","getBlog","getCategories","getUser","setMode","currentTheme","setCurrentTheme","getItem","exact","path","routeProps","component","Authoritaw","Admin","Sources","Account","SinglePost","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9586459e.chunk.js","sourcesContent":["export const ADD_MORE_USERS = 'add_more_users';\r\nexport const DELETE_USER = 'delete_user';\r\nexport const EDIT_USER = 'edit_user';\r\nexport const SET_ALL_USERS = 'set_all_users';\r\n","export const AUTHENTICATED = 'authenticated_user';\r\nexport const UNAUTHENTICATED = 'unauthenticated_user';\r\nexport const LOGIN_ERROR = 'login_error';\r\nexport const SIGNUP_ERROR = 'signup_error';\r\nexport const UPDATE_ERROR = 'update_error';\r\nexport const CLEAR_ERROR = 'clear_error';\r\nexport const SET_CURRENT_USER = 'set_current_user';\r\nexport const LOGIN_USER = 'login_user';\r\nexport const SIGNUP_USER = 'signup_user';\r\nexport const LOGOUT = 'logout';","export const SET_CURRENT_POST = 'set_current_posts';\r\nexport const SET_CURRENT_POST_ORDER = 'set_post_order';\r\nexport const SET_ALL_POSTS = 'set_all_posts';\r\nexport const ADD_POST_TO_POSTS = 'add_post_to_posts';\r\nexport const DELETE_POST = 'delete_post';\r\nexport const EDIT_POST_IN_POSTS = 'edit_post_in_posts';\r\nexport const SET_EDITING_POST = 'set_editing_post';\r\nexport const EDIT_USER_TAGS_IN_POST = 'edit_user_tags_in_post';\r\nexport const ADD_MORE_POSTS = 'add_more_posts';\r\n","export const SET_BLOG_DATA = 'set_blog_data';\r\nexport const SET_SEARCH_CRITERIA = 'set_search_criteria';\r\nexport const SET_SEARCH_COUNT = 'set_search_count';\r\n","export const SET_ALL_CATEGORIES = 'set_all_categories';\r\nexport const EDIT_CATEGORY_IN_CATEGORIES = 'edit_category_in_categories';\r\nexport const ADD_CATEGORY = 'add_category';\r\nexport const DELETE_CATEGORY = 'delete_category';\r\n","export const SET_ALL_SOURCES = 'set_all_sources';\r\nexport const ADD_SOURCE_TO_SOURCES = 'add_source_to_sources';\r\nexport const EDIT_SOURCE_IN_SOURCES = 'edit_source_in_sources';\r\nexport const DELETE_SOURCE = 'delete_source';\r\n","import { combineReducers } from 'redux';\r\n\r\nimport { adminUserReducer } from './adminUserReducer';\r\nimport { authReducer, userReducer } from './authReducer';\r\nimport { postReducer, currentPostReducer } from './postReducer';\r\nimport {\r\n   blogReducer,\r\n   countReducer,\r\n   searchCriteriaReducer\r\n} from './otherReducer';\r\nimport { categoryReducer } from './categoryReducer';\r\nimport { sourceReducer } from './sourceReducer';\r\n\r\n// import { UNAUTHENTICATED } from '../action-types/authTypes';\r\n\r\nconst appReducer = combineReducers({\r\n   auth: authReducer,\r\n   blog: blogReducer,\r\n   categories: categoryReducer,\r\n   count: countReducer,\r\n   criteria: searchCriteriaReducer,\r\n   post: currentPostReducer,\r\n   posts: postReducer,\r\n   sources: sourceReducer,\r\n   user: userReducer,\r\n   adminUsers: adminUserReducer\r\n});\r\n\r\nconst rootReducer = (state, action) => {\r\n   // if (action.type === UNAUTHENTICATED) {\r\n   //    state = undefined;\r\n   // }\r\n   return appReducer(state, action);\r\n}\r\n\r\nexport default rootReducer;\r\n","import * as Auth from '../action-types/authTypes';\r\n\r\nexport function authReducer(state = {}, action) {\r\n   switch (action.type) {\r\n      case Auth.AUTHENTICATED:\r\n         return { authenticated: true };\r\n      case Auth.UNAUTHENTICATED:\r\n         return { authenticated: false };\r\n      case Auth.LOGIN_ERROR:\r\n         return { ...state, loginError: action.payload };\r\n      case Auth.SIGNUP_ERROR:\r\n         return { ...state, signupError: action.payload };\r\n      case Auth.UPDATE_ERROR:\r\n         return { ...state, updateError: action.payload };\r\n      case Auth.CLEAR_ERROR:\r\n         return { ...state, loginError: null, signupError: null, updateError: null };\r\n      default: return state;\r\n   }\r\n}\r\n\r\nexport function userReducer(state = {}, action) {\r\n   switch (action.type) {\r\n      case Auth.SET_CURRENT_USER:\r\n         return {\r\n            ...state,\r\n            ...action.payload\r\n         };\r\n      case Auth.LOGIN_USER:\r\n         return {\r\n            ...state,\r\n            ...action.payload\r\n         };\r\n      case Auth.SIGNUP_USER:\r\n         return {\r\n            ...state,\r\n            ...action.payload\r\n         };\r\n      case Auth.LOGOUT:\r\n         return {};\r\n      default: return state;\r\n   }\r\n}","import {\r\n  SET_BLOG_DATA,\r\n  SET_SEARCH_COUNT,\r\n  SET_SEARCH_CRITERIA,\r\n} from '../action-types/otherTypes';\r\nimport { getBasicSearchCriteria } from '../../utils/halp';\r\n\r\nexport function blogReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case SET_BLOG_DATA:\r\n      return action.payload;\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport function searchCriteriaReducer(state = getBasicSearchCriteria(), action) {\r\n  switch (action.type) {\r\n    case SET_SEARCH_CRITERIA:\r\n      return action.payload;\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport function countReducer(state = 0, action) {\r\n  switch (action.type) {\r\n    case SET_SEARCH_COUNT:\r\n      return action.payload;\r\n    default: return state;\r\n  }\r\n}\r\n","import {\r\n  ADD_CATEGORY,\r\n  DELETE_CATEGORY,\r\n  EDIT_CATEGORY_IN_CATEGORIES,\r\n  SET_ALL_CATEGORIES,\r\n} from '../action-types/categoryTypes';\r\n\r\nexport function categoryReducer(state = [], action) {\r\n  switch (action.type) {\r\n    case SET_ALL_CATEGORIES:\r\n      return action.payload;\r\n    case ADD_CATEGORY:\r\n      return [...state, action.payload];\r\n    case EDIT_CATEGORY_IN_CATEGORIES:\r\n      return state.map(cat => {\r\n        if (cat.id === action.payload.id) {\r\n          return action.payload\r\n        }\r\n        return cat;\r\n      });\r\n    case DELETE_CATEGORY:\r\n      return state.filter(cat => cat.id !== action.payload);\r\n    default: return state;\r\n  }\r\n}","\r\nexport function getBasicSearchCriteria() {\r\n  return {\r\n    skip: 0,\r\n    take: 10,\r\n    orderBy: 'createdAt',\r\n    order: 'desc'\r\n  };\r\n}\r\n","import * as Post from '../action-types/postTypes';\r\n\r\nexport function postReducer(state = [], action) {\r\n  switch (action.type) {\r\n    case Post.SET_ALL_POSTS:\r\n      return [...action.payload];\r\n    case Post.ADD_POST_TO_POSTS:\r\n      return [...state, action.payload];\r\n    case Post.DELETE_POST:\r\n      return state.filter(post => post.id !== action.payload);\r\n    case Post.EDIT_POST_IN_POSTS:\r\n      return state.map(post => {\r\n        if (post.id === action.payload.id) {\r\n          return action.payload;\r\n        }\r\n        return post;\r\n      });\r\n    case Post.EDIT_USER_TAGS_IN_POST:\r\n      return state.map(post => {\r\n        if (post.id === action.payload.id) {\r\n          post = { ...post, userTags: action.payload.tags }\r\n        }\r\n        return post;\r\n      });\r\n    case Post.ADD_MORE_POSTS:\r\n      return [...state, ...action.payload];\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport function currentPostReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case Post.SET_CURRENT_POST:\r\n      return { ...action.payload };\r\n    default: return state;\r\n  }\r\n}\r\n","import * as Source from '../action-types/sourceTypes';\r\n\r\nexport function sourceReducer(state = [], action) {\r\n  switch (action.type) {\r\n    case Source.SET_ALL_SOURCES:\r\n      return action.payload;\r\n    case Source.ADD_SOURCE_TO_SOURCES:\r\n      return [...state, action.payload];\r\n    case Source.EDIT_SOURCE_IN_SOURCES:\r\n      return state.map(source => {\r\n        if (source.id === action.payload.id) {\r\n          return action.payload;\r\n        }\r\n        return source;\r\n      });\r\n    case Source.DELETE_SOURCE:\r\n      return state.filter(source => source.id !== action.payload);\r\n    default: return state;\r\n  }\r\n}\r\n","import {\r\n  ADD_MORE_USERS,\r\n  DELETE_USER,\r\n  EDIT_USER,\r\n  SET_ALL_USERS\r\n} from '../action-types/adminUserTypes';\r\n\r\nexport function adminUserReducer(state = [], action) {\r\n  switch (action.type) {\r\n    case ADD_MORE_USERS:\r\n      return [...state, ...action.payload];\r\n    case DELETE_USER:\r\n      return state.filter(user => user.id !== action.payload);\r\n    case EDIT_USER:\r\n      return state.map(user => {\r\n        if (user.id === action.payload.id) {\r\n          return action.payload;\r\n        }\r\n        return user;\r\n      });\r\n    case SET_ALL_USERS:\r\n      return action.payload;\r\n    default: return state;\r\n  }\r\n}","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport rootReducer from './redux/reducers/index';\r\nimport thunk from 'redux-thunk';\r\n\r\n// this gives Redux in chrome dev tools access to this app's Redux store\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;","import styled from \"styled-components\";\r\n\r\nexport const SpinnerWrap = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: ${props => props.background || '#00000088'};\r\n  display: flex;\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 999999;\r\n`;\r\n\r\nexport const Spinner = styled.span`\r\n  -webkit-animation: spinner 400ms linear infinite;\r\n  animation: spinner 400ms linear infinite;\r\n  border: solid ${props => props.border || '2'}px transparent;\r\n  border-left-color: ${props => 'white'};\r\n  border-bottom-color: ${props => props.theme.mainRed};\r\n  border-right-color: ${props => props.theme.nPurple};\r\n  /* border-top-color: ${props => props.theme.blue}; */\r\n  border-radius: 50%;\r\n  height: ${props => props.size}px;\r\n  margin: auto;\r\n  width: ${props => props.size}px;\r\n  @-webkit-keyframes spinner {\r\n    0%   { -webkit-transform: rotate(0deg); }\r\n    100% { -webkit-transform: rotate(360deg); }\r\n  }\r\n  @keyframes spinner {\r\n    0%   { transform: rotate(0deg); }\r\n    100% { transform: rotate(360deg); }\r\n  }\r\n`;\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p,\r\n  blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em,\r\n  img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u,\r\n  i, center, dl, dt, dd, fieldset, form, label, legend, table,\r\n  caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details,\r\n  embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby,\r\n  section, summary, time, mark, audio, video {\r\n    border: 0;\r\n    font: inherit;\r\n    font-size: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n    vertical-align: baseline;\r\n  }\r\n  article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {\r\n    display: block;\r\n  }\r\n  html {\r\n    box-sizing: border-box;\r\n  }\r\n  *, *:before, *:after {\r\n    box-sizing: inherit;\r\n  }\r\n  body {\r\n    background-color: ${props => props.theme.bg};\r\n    border: 0;\r\n    color: ${props => props.theme.text};\r\n    font-family: Roboto, Helvetica, sans-serif;\r\n    font-weight: 300;\r\n    line-height: 1;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  li {\r\n    margin: 6px 0;\r\n  }\r\n  /* body::-webkit-scrollbar {\r\n    display: none;\r\n  } */\r\n  blockquote, q {\r\n    quotes: none;\r\n  }\r\n  blockquote:before, blockquote:after, q:before, q:after {\r\n    content: '';\r\n    content: none;\r\n  }\r\n  code {\r\n    font-family: monospace;\r\n  }\r\n  table {\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n  }\r\n  strong {\r\n    font-weight: bold;\r\n  }\r\n  em {\r\n    font-style: italic;\r\n  }\r\n  a {\r\n    color: ${props => props.theme.black};\r\n    text-decoration: none;\r\n  }\r\n  u {\r\n    text-decoration: underline;\r\n  }\r\n`;","export const Themes = {\r\n  nightmode: {\r\n    mainRed: '#e22c5a',\r\n    mainGrey: '#aaa',\r\n    bg: '#000000',\r\n    text: '#ffffff',\r\n    black: '#000000',\r\n    white: '#ffffff',\r\n    blue: '#0000ff',\r\n    red: '#ff0000',\r\n    yellow: '#ffff00',\r\n    orange: '#ffa500',\r\n    purple: '#800080',\r\n    green: '#008000',\r\n    nBlue: '#4666FF',\r\n    nRed: '#DF002D',\r\n    nYellow: '#CCFF00',\r\n    nOrange: '#FF9933',\r\n    nPurple: '#BC13FE',\r\n    nGreen: '#39FF14'\r\n  },\r\n\r\n  brightmode: {\r\n    mainRed: '#e22c5a',\r\n    mainGrey: '#aaa',\r\n    bg: '#ffffff',\r\n    text: '#000000',\r\n    black: '#000000',\r\n    white: '#ffffff',\r\n    blue: '#0000ff',\r\n    red: '#ff0000',\r\n    yellow: '#ffff00',\r\n    orange: '#ffa500',\r\n    purple: '#800080',\r\n    green: '#008000',\r\n    nBlue: '#4666FF',\r\n    nRed: '#DF002D',\r\n    nYellow: '#CCFF00',\r\n    nOrange: '#FF9933',\r\n    nPurple: '#BC13FE',\r\n    nGreen: '#39FF14'\r\n  },\r\n\r\n  frightmode: {\r\n    mainRed: '#e22c5a',\r\n    mainGrey: '#aaa',\r\n    bg: '#ffffff',\r\n    text: '#000000',\r\n    black: '#000000',\r\n    white: '#fff',\r\n    blue: '#0000ff',\r\n    red: '#ff0000',\r\n    yellow: '#ffff00',\r\n    orange: '#ffa500',\r\n    purple: '#800080',\r\n    green: '#008000',\r\n    nBlue: '#4666FF',\r\n    nRed: '#DF002D',\r\n    nYellow: '#CCFF00',\r\n    nOrange: '#FF9933',\r\n    nPurple: '#BC13FE',\r\n    nGreen: '#39FF14'\r\n  },\r\n};","import styled from 'styled-components';\r\n\r\nexport const RedBlueButton = styled.button`\r\n  background: #181818;\r\n  border: 1px solid ${props => props.theme.mainRed};\r\n  border-radius: 5px;\r\n  box-shadow: 0px 0px 8px ${props => props.theme.mainRed};\r\n  color: ${props => props.theme.nBlue};\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  margin: 0 12px;\r\n  outline: transparent;\r\n  ${props => props.height ? `height: ${props.height}px` : ''};\r\n  ${props => props.width ? `min-width: ${props.width}px` : ''};\r\n  display: flex;\r\n  ${props => props.text && 'padding: 4px 8px'};\r\n  transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;\r\n  > i {\r\n    display: block;\r\n    align-self: center;\r\n    margin: auto;\r\n  }\r\n  &:hover {\r\n    background-color: ${props => props.theme.nBlue};\r\n    color: ${props => props.theme.nRed};\r\n  }\r\n  &:disabled {\r\n    color: ${props => props.theme.nBlue + '99'};\r\n    cursor: default;\r\n    box-shadow: none;\r\n    border: 1px solid ${props => props.theme.mainRed + '99'};\r\n\r\n    &:hover {\r\n      background: #181818;\r\n      color: ${props => props.theme.nBlue + '99'};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const PurpleGreenButton = styled.button`\r\n  background: #181818;\r\n  border: 1px solid ${props => props.theme.nPurple};\r\n  border-radius: 5px;\r\n  box-shadow: 0px 0px 8px ${props => props.theme.nPurple};\r\n  color: ${props => props.theme.nGreen};\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  margin: 0 12px;\r\n  outline: transparent;\r\n  ${props => props.height ? `height: ${props.height}px` : ''};\r\n  ${props => props.width ? `min-width: ${props.width}px` : ''};\r\n  display: flex;\r\n  ${props => props.text && 'padding: 4px 8px'};\r\n  transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;\r\n  > i {\r\n    align-self: center;\r\n    display: block;\r\n    margin: auto;\r\n  }\r\n  &:hover {\r\n    background-color: ${props => props.theme.nGreen};\r\n    color: ${props => props.theme.nPurple};\r\n  }\r\n  &:disabled {\r\n    border: 1px solid ${props => props.theme.nPurple + '99'};\r\n    box-shadow: none;\r\n    color: ${props => props.theme.nGreen + '99'};\r\n    cursor: default;\r\n\r\n    &:hover {\r\n      background: #181818;\r\n      color: ${props => props.theme.nGreen + '99'};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const MainButton = styled.button`\r\n  background: #111;\r\n  border: 1px solid ${props => props.theme[props.color]};\r\n  border-radius: 5px;\r\n  box-shadow: 4px 4px 4px ${props => props.theme[props.color]}77;\r\n  color: ${props => props.theme[props.color]};\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  margin-right: 16px;\r\n  outline: transparent;\r\n  padding: 6px 12px;\r\n  min-width: 80px;\r\n  transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;\r\n  &:hover {\r\n    background-color: ${props => props.theme[props.color]};\r\n    color: ${props => props.color === 'nGreen' || props.color === 'nYellow' ? 'black' : 'white'};\r\n  }\r\n  &:disabled {\r\n    background-color: ${props => props.theme.text + '44'};\r\n    color: ${props => props.theme.bg + '99'};\r\n    box-shadow: none;\r\n    border: 1px solid ${props => props.theme.text + '99'};\r\n  }\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  width: 100%;\r\n  display: block;\r\n  margin-bottom: 6px;\r\n  /* color: white; */\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  height: ${props => props.height ? `${props.height}px` : '32px'};\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  border: 2px solid ${props => props.theme.mainRed};\r\n  box-shadow: inset 3px 3px 2px #777,\r\n    inset -3px -3px 2px #fff;\r\n  background-color: #ccc;\r\n  color: ${props => props.theme.nBlue};\r\n  font-weight: 700;\r\n  outline: transparent;\r\n  ${props => props.full\r\n    ? 'width: 100%; display: block; margin-bottom: 6px;'\r\n    : ''\r\n  }\r\n`;\r\n\r\nexport const Select = styled.select`\r\n  height: ${props => props.height ? `${props.height}px` : '32px'};\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  border: 2px solid ${props => props.theme.mainRed};\r\n  box-shadow: inset 3px 3px 2px #777,\r\n    inset -3px -3px 2px #fff;\r\n  background-color: #ccc;\r\n  color: ${props => props.theme.nBlue};\r\n  font-weight: 700;\r\n  outline: transparent;\r\n  ${props => props.full\r\n    ? 'width: 100%; display: block; margin-bottom: 6px;'\r\n    : ''\r\n  }\r\n`;\r\n\r\nexport const Form = props => {\r\n  return (\r\n    <StyledForm onSubmit={props.submit} style={props.style}>\r\n      {props.children}\r\n      <input hidden type=\"submit\" />\r\n    </StyledForm>\r\n  )\r\n};\r\n\r\nexport const StyledForm = styled.form`\r\n\r\n`;\r\n\r\nexport const TagDelete = styled.span`\r\n  color: ${props => props.theme.mainRed};\r\n  cursor: pointer;\r\n  margin: auto 8px auto 0;\r\n  font-size: 1rem;\r\n`;\r\n\r\nexport const Tags = styled.p`\r\n  display: flex;\r\n\r\n  > span {\r\n    display: flex;\r\n    margin: auto 2px;\r\n\r\n    > .tag {\r\n      background-color: #333;\r\n      color: white;\r\n      border-radius: 3px;\r\n      display: inline-block;\r\n      margin: auto 2px;\r\n      padding: 3px 6px;\r\n      cursor: pointer;\r\n    }\r\n\r\n    > .tag-delete {\r\n      color: ${props => props.theme.mainRed};\r\n      cursor: pointer;\r\n      margin: 0 8px 2px 1px;\r\n      font-size: 1.2rem;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ButtonContainer = styled.div`\r\n  margin-left: 16px;\r\n  margin-top: 16px;\r\n\r\n  > button:last-of-type {\r\n    margin-right: 0;\r\n  }\r\n`;","import axios  from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: '***REMOVED***',\r\n});\r\n","import axios from '../plugins/axios';\r\nimport querystring from 'querystring';\r\n\r\nexport default class BaseAPI {\r\n    constructor (endpoint) {\r\n        this.endpoint = endpoint;\r\n    }\r\n\r\n    get(query) {\r\n        return axios.get(`${this.endpoint}${query ? '?' + querystring.stringify(query) : ''}`);\r\n    }\r\n\r\n    getOne(id, query) {\r\n        return axios.get(`${this.endpoint}/${id}${query ? '?' + querystring.stringify(query) : ''}`);\r\n    }\r\n\r\n    create(item) {\r\n        return axios.post(`${this.endpoint}`, item);\r\n    }\r\n\r\n    edit(item) {\r\n        return axios.put(`${this.endpoint}/${item.id}`, item);\r\n    }\r\n\r\n    destroy(id) {\r\n        return axios.delete(`${this.endpoint}/${id}`);\r\n    }\r\n}","import BaseAPI from './baseApi';\r\n\r\nclass BlogAPI extends BaseAPI {\r\n  constructor() {\r\n    super('blogs');\r\n  }\r\n}\r\n\r\nexport default new BlogAPI();\r\n","import BaseAPI from './baseApi';\r\n\r\nclass CategoryAPI extends BaseAPI {\r\n  constructor() {\r\n    super('categories');\r\n  }\r\n}\r\n\r\nexport default new CategoryAPI();\r\n","import BaseAPI from './baseApi';\r\nimport axios from '../plugins/axios';\r\n\r\nclass PostAPI extends BaseAPI {\r\n  constructor() {\r\n    super('posts');\r\n  }\r\n\r\n  getOnePublicPost(id) {\r\n    return axios.get(`${this.endpoint}/public/${id}`);\r\n  }\r\n\r\n  listPublicPosts(data) {\r\n    return axios.post(`${this.endpoint}/public`, data);\r\n  }\r\n\r\n  // doing this as a post instead of get with querystring because\r\n  //  it appears that dates don't get passed properly via querystring\r\n  //  without some extra formatting, and I don't feel like doing it\r\n  // it's a \"/list\" endpoint because \"/\" as a POST is already being used for creating a new post\r\n  listPosts(data) {\r\n    return axios.post(`${this.endpoint}/list`, data);\r\n  }\r\n}\r\n\r\nexport default new PostAPI();\r\n","import BaseAPI from './baseApi';\r\n\r\nclass SourceAPI extends BaseAPI {\r\n  constructor() {\r\n    super('sources');\r\n  }\r\n}\r\n\r\nexport default new SourceAPI();\r\n","import axios from '../plugins/axios';\r\nimport querystring from 'querystring';\r\n\r\nconst routes = {\r\n    me: () => axios.get('users'),\r\n    login: data => axios.post('users/login', data),\r\n    register: data => axios.post('users', data),\r\n    update: (data) => axios.put(`users/${data.id}`, data),\r\n    reactivate: (email) => axios.post(`users/reactivate`, { email }),\r\n    updateUserTags: (id, data) => axios.put(`users/tags/${id}`, data),\r\n    adminListUsers: (query) => axios.get(`users/admin${query ? '?' + querystring.stringify(query) : ''}`),\r\n    adminUpdateUser: (data) => axios.put(`users/admin/${data.id}`, data),\r\n    adminDeactivateUser: (id, status) => axios.put(`users/admin/${id}/${status}`),\r\n    adminDeleteUser: id => axios.delete(`users/admin/${id}`)\r\n};\r\n\r\nexport default routes;","import axios from '../plugins/axios';\r\n\r\nexport function setAuthToken(token) {\r\n    localStorage.setItem('token', token);\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n}\r\n\r\nexport function resetAuthToken() {\r\n    localStorage.removeItem('token');\r\n    delete axios.defaults.headers.common['Authorization'];\r\n}","import * as Auth from '../action-types/authTypes';\r\nimport * as API from '../../api';\r\nimport { setAuthToken, resetAuthToken } from '../../utils/token';\r\n\r\nexport function getCurrentUser() {\r\n   return async dispatch => {\r\n      try {\r\n         const response = await API.user.me();\r\n         dispatch({ type: Auth.AUTHENTICATED });\r\n         dispatch({ type: Auth.SET_CURRENT_USER, payload: response.data.user });\r\n      } catch (e) {\r\n         dispatch({ type: Auth.UNAUTHENTICATED });\r\n      }\r\n   }\r\n}\r\n\r\nexport function signup(signup_data, history) {\r\n   return async dispatch => {\r\n      try {\r\n         const response = await API.user.register(signup_data);\r\n         setAuthToken(response.data.token);\r\n         dispatch({ type: Auth.SET_CURRENT_USER, payload: response.data.user });\r\n         dispatch({ type: Auth.AUTHENTICATED });\r\n      } catch (e) {\r\n         dispatch({\r\n            type: Auth.SIGNUP_ERROR,\r\n            payload: e.response.data.message\r\n         });\r\n      }\r\n   }\r\n}\r\n\r\nexport function login(credentials) {\r\n   return async dispatch => {\r\n      try {\r\n         const response = await API.user.login(credentials);\r\n         setAuthToken(response.data.token);\r\n         dispatch({ type: Auth.SET_CURRENT_USER, payload: response.data.user });\r\n         dispatch({ type: Auth.AUTHENTICATED });\r\n      } catch (e) {\r\n         dispatch({\r\n            type: Auth.LOGIN_ERROR,\r\n            payload: e.response.data.message\r\n         });\r\n      }\r\n   }\r\n}\r\n\r\nexport function logout() {\r\n   return dispatch => {\r\n      resetAuthToken();\r\n      dispatch({ type: Auth.UNAUTHENTICATED });\r\n      dispatch({ type: Auth.LOGOUT });\r\n   }\r\n}\r\n\r\nexport function reactivate(email) {\r\n   return async dispatch => {\r\n      try {\r\n         const response = await API.user.reactivate(email);\r\n         setAuthToken(response.data.token);\r\n         dispatch({ type: Auth.SET_CURRENT_USER, payload: response.data.user });\r\n         dispatch({ type: Auth.AUTHENTICATED });\r\n      } catch (e) {\r\n         dispatch({ type: Auth.UNAUTHENTICATED });\r\n      }\r\n   }\r\n}\r\n\r\nexport function update(data) {\r\n   return async dispatch => {\r\n      try {\r\n         const response = await API.user.update(data);\r\n         setAuthToken(response.data.token);\r\n         dispatch({ type: Auth.SET_CURRENT_USER, payload: response.data.user });\r\n         return response.data.user;\r\n      } catch (e) {\r\n         dispatch({\r\n            type: Auth.UPDATE_ERROR,\r\n            payload: e.response.data.message\r\n         });\r\n      }\r\n   }\r\n}\r\n\r\nexport function setError(errorMsg, errorType) {\r\n   let type;\r\n   if (errorType === 'signup') type = Auth.SIGNUP_ERROR;\r\n   if (errorType === 'login') type = Auth.LOGIN_ERROR;\r\n   if (errorType === 'update') type = Auth.UPDATE_ERROR;\r\n   return dispatch => {\r\n      dispatch({ type, payload: errorMsg })\r\n   }\r\n}\r\n\r\nexport function clearError() {\r\n   return dispatch => {\r\n      dispatch({ type: Auth.CLEAR_ERROR })\r\n   }\r\n}","import { useEffect, useState } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { PurpleGreenButton } from '../styles/components';\r\nimport { logout } from '../redux/actions/authActions';\r\n\r\nconst Navbar = props => {\r\n  const history = useHistory();\r\n  const [location, setLocation] = useState('');\r\n\r\n  useEffect(() => {\r\n    setLocation(history.location.pathname);\r\n  }, [])\r\n\r\n  function goTo(route, state) {\r\n    history.push(route, state)\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <nav>\r\n        <PurpleGreenButton text onClick={() => goTo('/')}>\r\n          <i className=\"fas fa-home\" />\r\n        </PurpleGreenButton>\r\n\r\n        <PurpleGreenButton\r\n          title=\"news sources\"\r\n          width=\"50\"\r\n          height=\"26\"\r\n          onClick={() => goTo('/sources')}\r\n          disabled={location.includes('sources')}\r\n        >\r\n          <i className=\"fas fa-info\" />\r\n        </PurpleGreenButton>\r\n\r\n        {props.authenticated && (\r\n          <PurpleGreenButton width=\"50\" height=\"26\" onClick={() => goTo('/my-info')} title=\"update my info\">\r\n            <i className=\"far fa-user-circle\" />\r\n          </PurpleGreenButton>\r\n        )}\r\n\r\n        {props.admin && (\r\n          <>\r\n            <PurpleGreenButton\r\n              title=\"new post\"\r\n              width=\"50\"\r\n              height=\"26\"\r\n              onClick={() => goTo('/editor')}\r\n              disabled={location.includes('editor')}\r\n            >\r\n              <i className=\"fas fa-plus\" />\r\n            </PurpleGreenButton>\r\n\r\n            <PurpleGreenButton\r\n              title=\"admin\"\r\n              width=\"50\"\r\n              height=\"26\"\r\n              onClick={() => goTo('/admin')}\r\n              disabled={location.includes('admin')}\r\n            >\r\n              <i className=\"fas fa-cog\" />\r\n            </PurpleGreenButton>\r\n          </>\r\n        )}\r\n\r\n        {props.authenticated\r\n          ? (\r\n            <PurpleGreenButton width=\"50\" height=\"26\" onClick={props.logout} title=\"logout\">\r\n              <i className=\"fas fa-sign-out-alt\" />\r\n            </PurpleGreenButton>\r\n          ) : (\r\n            <PurpleGreenButton width=\"50\" height=\"26\" onClick={() => goTo('/login')} title=\"login\">\r\n              <i className=\"fas fa-sign-in-alt\" />\r\n            </PurpleGreenButton>\r\n          )}\r\n      </nav>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    authenticated: state.auth.authenticated\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout })(Navbar);\r\n\r\nconst Wrapper = styled.header`\r\n  margin-bottom: 16px;\r\n\r\n  > nav {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin: 0 auto;\r\n    padding: 16px 0;\r\n\r\n    > button {\r\n      margin: 4px 10px;\r\n      min-width: 100px;\r\n      justify-content: center;\r\n    }\r\n  }\r\n`;","import { useState } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport Navbar from \"../components/Navbar\";\r\nimport { Input, Label, MainButton } from '../styles/components';\r\n\r\nimport { update, setError, clearError } from '../redux/actions/authActions';\r\n\r\nconst Account = props => {\r\n  const [email, setEmail] = useState(props.user.email);\r\n  const [username, setUsername] = useState(props.user.username);\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPw, setConfirmPw] = useState('');\r\n\r\n  function handleInputChange({ target }) {\r\n    const { name, value } = target;\r\n    if (name === 'email') setEmail(value);\r\n    if (name === 'username') setUsername(value);\r\n    if (name === 'password') setPassword(value);\r\n    if (name === 'confirmPw') setConfirmPw(value);\r\n  }\r\n\r\n  async function submit(e) {\r\n    e.preventDefault();\r\n    const isValid = validate();\r\n    if (isValid) {\r\n      const changes = { id: props.user.id };\r\n      if (email !== props.user.email) changes.email = email;\r\n      if (username !== props.user.username) changes.username = username;\r\n      if (password && password === confirmPw) changes.password = password;\r\n      const response = await props.update(changes);\r\n      if (response) {\r\n        props.setError('Updated Successfully', 'update');\r\n      }\r\n      setTimeout(() => props.clearError(), 5000);\r\n    }\r\n  }\r\n\r\n  function validate() {\r\n    const { user } = props;\r\n    let valid = true;\r\n\r\n    if (email === user.email && username === user.username && !password) {\r\n      props.setError('You have to change something first...', 'update');\r\n      setTimeout(() => props.clearError(), 5000);\r\n      valid = false;\r\n    }\r\n    if (password && password !== confirmPw) {\r\n      props.setError('Password and confirmation do not match', 'update');\r\n      setTimeout(() => props.clearError(), 5000);\r\n      valid = false;\r\n    }\r\n\r\n    return valid;\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Navbar />\r\n\r\n      <form>\r\n        <h3>Update Your Info</h3>\r\n        <div>\r\n          <Label>Email</Label>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Username</Label>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={username}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Password</Label>\r\n          <Input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Confirm Password</Label>\r\n          <Input\r\n            type=\"password\"\r\n            name=\"confirmPw\"\r\n            value={confirmPw}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n\r\n        <MainButton color=\"nGreen\" onClick={submit}>Submit</MainButton>\r\n\r\n        <Error green={props.error && props.error.toLowerCase().includes('success')}>{props.error}</Error>\r\n      </form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    blog: state.blog,\r\n    sources: state.sources,\r\n    user: state.user,\r\n    error: state.auth.updateError\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {\r\n  update,\r\n  setError,\r\n  clearError\r\n};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Account);\r\n\r\nconst Wrapper = styled.div`\r\n  min-height: 100vh;\r\n\r\n  > form {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 220px;\r\n    margin: 48px auto 0 auto;\r\n    position: relative;\r\n    padding-bottom: 24px;\r\n\r\n    > div {\r\n      margin: 8px 0;\r\n      width: 100%;\r\n      > input, > label {\r\n        width: 100%;\r\n      }    \r\n    }\r\n\r\n    > h3 {\r\n      font-size: 1.8rem;\r\n      font-weight: 500;\r\n      margin-bottom: 12px;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n\r\n    > button {\r\n      margin: 8px 0 24px 0;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Error = styled.div`\r\n  color: ${props => props.green ? 'green' : 'crimson'};\r\n  font-size: 12px;\r\n  text-align: center;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n`;\r\n","import {\r\n   SET_BLOG_DATA,\r\n   SET_SEARCH_CRITERIA,\r\n   SET_SEARCH_COUNT\r\n} from '../action-types/otherTypes';\r\nimport { SET_ALL_CATEGORIES } from '../action-types/categoryTypes';\r\nimport * as API from '../../api';\r\n\r\nexport function getBlogData() {\r\n   return async dispatch => {\r\n      try {\r\n         const response = await API.blog.get();\r\n         dispatch({ type: SET_BLOG_DATA, payload: response.data.blog });\r\n         dispatch({ type: SET_ALL_CATEGORIES, payload: response.data.categories });\r\n         return response.data;\r\n      } catch (e) {\r\n         console.log('e in getBlogData:::', e);\r\n      }\r\n   }\r\n}\r\n\r\nexport function saveBlogData(data) {\r\n   return async dispatch => {\r\n      try {\r\n         const response = await API.blog.edit(data);\r\n         dispatch({ type: SET_BLOG_DATA, payload: response.data });\r\n         return response.data;\r\n      } catch (e) {\r\n         console.log('e in saveBlogData:::', e);\r\n      }\r\n   }\r\n}\r\n\r\nexport function setSearchCriteria(critieria) {\r\n   return async dispatch => {\r\n      dispatch({ type: SET_SEARCH_CRITERIA, payload: critieria });\r\n   }\r\n}\r\n\r\nexport function setCount(count) {\r\n   return dispatch => {\r\n      dispatch({ type: SET_SEARCH_COUNT, payload: count });\r\n   }\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { MainButton } from '../../styles/components';\r\nimport { saveBlogData } from '../../redux/actions/otherActions';\r\n\r\nconst Blog = props => {\r\n  const [state, setState] = useState({\r\n    title: props.blog.title,\r\n    subtitle: props.blog.subtitle\r\n  });\r\n\r\n  useEffect(() => {\r\n    (function () {\r\n\r\n    })();\r\n  }, [])\r\n\r\n  function handleInputChange({ target }) {\r\n    const { name, value } = target;\r\n    setState({ ...state, [name]: value });\r\n  }\r\n\r\n  function save() {\r\n    const update = { id: props.blog.id };\r\n    if (state.title !== props.blog.title) update.title = state.title;\r\n    if (state.subtitle !== props.blog.subtitle) update.subtitle = state.subtitle;\r\n    props.saveBlogData(update);\r\n  }\r\n\r\n  function cancel() {\r\n    setState({\r\n      title: props.blog.title,\r\n      subtitle: props.blog.subtitle\r\n    });\r\n  }\r\n\r\n  const disabled = (\r\n    state.title === props.blog.title\r\n    && state.subtitle === props.blog.subtitle\r\n  );\r\n\r\n  return (\r\n    <Wrapper>\r\n      <InputWrapper>\r\n        <h1>Title:</h1>\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={state.title}\r\n          onChange={handleInputChange}\r\n        />\r\n      </InputWrapper>\r\n\r\n      <InputWrapper subtitle>\r\n        <h2>Subtitle:</h2>\r\n        <input\r\n          type=\"text\"\r\n          name=\"subtitle\"\r\n          value={state.subtitle}\r\n          onChange={handleInputChange}\r\n        />\r\n      </InputWrapper>\r\n\r\n      <div className=\"buttons\">\r\n        <MainButton color=\"nBlue\" disabled={disabled} onClick={save}>Save</MainButton>\r\n        <MainButton color=\"nRed\" disabled={disabled} onClick={cancel}>Cancel</MainButton>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    blog: state.blog,\r\n    sources: state.sources\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {\r\n  saveBlogData\r\n};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Blog);\r\n\r\nconst Wrapper = styled.div`\r\n  width: 900px;\r\n  margin: auto;\r\n  padding-top: 48px;\r\n\r\n  > .buttons {\r\n    margin: 24px 0 0 132px;\r\n  }\r\n`;\r\n\r\nconst InputWrapper = styled.div`\r\n  display: flex;\r\n\r\n  input {\r\n    background: transparent;\r\n    outline: transparent;\r\n    border: none;\r\n    border-bottom: 1px solid #222;\r\n    padding-bottom: 6px;\r\n    width: 100%;\r\n    font-family: Roboto;\r\n    color: ${props => props.subtitle ? props.theme.mainRed : props.theme.text};\r\n    font-size: ${props => props.subtitle ? '1.35rem' : '3rem'};\r\n    font-weight: ${props => props.subtitle ? '300' : '900'};\r\n    ${props => props.subtitle && 'text-indent: 10px'};\r\n  }\r\n\r\n  h1 {\r\n    font-size: 2.4rem;\r\n    align-self: flex-end;\r\n    padding: 0 12px 12px 0;\r\n    width: 140px;\r\n    text-align: right;\r\n  }\r\n\r\n  h2 {\r\n    font-size: 1.1rem;\r\n    align-self: flex-end;\r\n    padding: 0 12px 9px 0;\r\n    width: 140px;\r\n    text-align: right;\r\n  }\r\n`;\r\n","import { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst CategoryCard = props => {\r\n  const [categoryInput, setCategoryInput] = useState('');\r\n  const [editable, setEditable] = useState(false);\r\n\r\n  const { category, openDeleteModal, save } = props;\r\n\r\n  function handleInputChange({ target }) {\r\n    const { value } = target;\r\n    setCategoryInput(value);\r\n  }\r\n\r\n  function toggleEdit() {\r\n    if (!editable) setCategoryInput(category.name);\r\n    else setCategoryInput('');\r\n    setEditable(!editable);\r\n  }\r\n\r\n  async function saveCategory(event) {\r\n    event.preventDefault();\r\n    await save({\r\n      id: category.id,\r\n      name: categoryInput\r\n    });\r\n    setEditable(false);\r\n  }\r\n\r\n\r\n  return (\r\n    <Card>\r\n      {editable\r\n        ? (\r\n          <form onSubmit={saveCategory}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"categoryInput\"\r\n              value={categoryInput}\r\n              onChange={handleInputChange}\r\n              autoFocus\r\n            />\r\n            <input type=\"submit\" hidden />\r\n          </form>\r\n        ) : (\r\n          <h2>{category.name}</h2>\r\n        )}\r\n      <div>\r\n        <button onClick={toggleEdit}>\r\n          {editable\r\n            ? <i className=\"fas fa-undo\" />\r\n            : <i className=\"far fa-edit\" />}\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => openDeleteModal(category.id)}\r\n          disabled={category.posts && category.posts.length}\r\n        >\r\n          <i className=\"fas fa-times\" />\r\n        </button>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default CategoryCard;\r\n\r\nconst Card = styled.div`\r\n  width: 300px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 12px auto;\r\n\r\n  > h2, > form input {\r\n    height: 24px;\r\n    font-size: 1.2rem;\r\n  }\r\n\r\n  > form input {\r\n    border: none;\r\n    padding: 0 0 3px 0;\r\n    background-color: transparent;\r\n    border-bottom: 1px solid #222;\r\n    color: ${props => props.theme.text};\r\n    font-weight: 300;\r\n    font-family: Roboto;\r\n      outline: transparent;\r\n  }\r\n\r\n  > div > button {\r\n    background-color: transparent;\r\n    outline: transparent;\r\n    border: none;\r\n    color: ${props => props.theme.text};\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      color: ${props => props.theme.nBlue};\r\n    }\r\n\r\n    &:disabled {\r\n      color: #777;\r\n      cursor: default;\r\n    }\r\n  }\r\n`;","import styled from 'styled-components';\r\nimport { useEffect, useState } from 'react';\r\nimport { MainButton } from '../styles/components';\r\n\r\nconst Modal = props => {\r\n  const [state, setState] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (props.items) {\r\n      const newState = {};\r\n      for (let i = 0; i < props.items.length; i++) {\r\n        const el = props.items[i];\r\n        newState[el.label.toLowerCase()] = '';\r\n      }\r\n      setState(newState);\r\n    }\r\n  }, [props.items])\r\n\r\n  function onOutsideClick(e) {\r\n    if (e.target.className.includes('modal-wrapper')) {\r\n      props.close()\r\n    }\r\n  }\r\n\r\n  function callback() {\r\n    props.callback(state);\r\n    closeModal();\r\n  }\r\n\r\n  function callbackTwo() {\r\n    props.callbackTwo(state);\r\n    closeModal();\r\n  }\r\n\r\n  function closeModal() {\r\n    const newState = { ...state };\r\n    for (const item in newState) {\r\n      newState[item] = '';\r\n    }\r\n    setState(newState);\r\n    props.close();\r\n  }\r\n\r\n  function handleInputChange(event) {\r\n    const { name, value } = event.target;\r\n    setState({\r\n      ...state,\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Wrapper\r\n      className=\"modal-wrapper\"\r\n      onClick={onOutsideClick}\r\n      show={props.show}\r\n    >\r\n      <Content show={props.show}>\r\n        <CloseBtn onClick={props.close}>&times;</CloseBtn>\r\n        <Body>\r\n          {props.items && props.items.map((item, i) => {\r\n            const itemValue = state[item.label.toLowerCase()];\r\n            if (itemValue === '' || (itemValue && itemValue.length)) {\r\n              return (\r\n                <div key={i}>\r\n                  <label style={{ display: 'block', width: '100%', color: 'white', fontSize: '16px', marginBottom: '10px' }}>{item.label}</label>\r\n                  {item.type === 'textarea'\r\n                    ? (\r\n                      <textarea\r\n                        type=\"text\"\r\n                        name={item.label.toLowerCase()}\r\n                        onChange={handleInputChange}\r\n                        value={itemValue}\r\n                        style={{ minWidth: '240px', maxWidth: '240px', marginBottom: '20px' }}\r\n                      />\r\n                    ) : (\r\n                      <input\r\n                        type=\"text\"\r\n                        name={item.label.toLowerCase()}\r\n                        onChange={handleInputChange}\r\n                        value={itemValue}\r\n                        style={{ width: '240px', marginBottom: '20px' }}\r\n                      />\r\n                    )\r\n                  }\r\n                </div>\r\n              )\r\n            }\r\n          })}\r\n          <ChildrenWrapper hasChildren={!!props.children}>\r\n            {props.children}\r\n          </ChildrenWrapper>\r\n          <Buttons>\r\n            {props.callback && (\r\n              <MainButton\r\n                onClick={callback}\r\n                color=\"nGreen\"\r\n              >\r\n                {props.confirmText || 'OK'}\r\n              </MainButton>\r\n            )}\r\n            {props.showCallbackTwo && (\r\n              <MainButton\r\n                onClick={callbackTwo}\r\n                color=\"nBlue\"\r\n              >\r\n                {props.confirmTwoText || 'OK'}\r\n              </MainButton>\r\n            )}\r\n            {props.close && props.callback && (\r\n              <MainButton\r\n                onClick={closeModal}\r\n                color=\"nRed\"\r\n              >\r\n                {props.cancelText || 'Close'}\r\n              </MainButton>\r\n            )}\r\n          </Buttons>\r\n        </Body>\r\n      </Content>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default Modal;\r\n\r\nconst Wrapper = styled.div`\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  display: ${props => props.show ? 'flex' : 'none'};\r\n  height: 100vh;\r\n  overflow: auto;\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  z-index: 99;\r\n`;\r\n\r\nconst ChildrenWrapper = styled.div`\r\n  text-align: center;\r\n  line-height: 2;\r\n  margin-bottom: ${props => props.hasChildren ? '12px' : '0px'};\r\n`;\r\n\r\nconst Content = styled.div`\r\n  animation-duration: 0.4s;\r\n  animation-name: fadein;\r\n  background: linear-gradient(#800080aa, #800080aa),\r\n    linear-gradient(#000, #000);\r\n  border: 1px solid ${props => props.theme.nPurple};\r\n  border-radius: 12px;\r\n  box-shadow: 0 0 1px #000,\r\n    0 0 2px #000,\r\n    0 0 4px #000,\r\n    0 0 8px #111,\r\n    0 0 10px #111,\r\n    0 0 20px #222,\r\n    0 0 40px #aaa,\r\n    inset 0 0 100px 30px rgb(0,0,0);\r\n  display: ${props => props.show ? 'block' : 'none'};\r\n  font-size: 1.2rem;\r\n  max-width: 60%;\r\n  min-width: 300px;\r\n  margin: auto;\r\n  padding: 0;\r\n  position: relative;\r\n  img {\r\n    border: 1px solid black;\r\n  }\r\n  @keyframes fadein {\r\n    from { opacity: 0; }\r\n    to { opacity: 1; }\r\n  }\r\n`;\r\n\r\nconst Body = styled.div`\r\n  margin: auto;\r\n  max-width: 100%;\r\n  padding: 40px;\r\n  z-index: 999;\r\n  color: white;\r\n`;\r\n\r\nconst Buttons = styled.div`\r\n  text-align: center;\r\n  width: 100%;\r\n`;\r\n\r\nconst CloseBtn = styled.button`\r\n  background-color: transparent;\r\n  border: none;\r\n  color: lightgrey;\r\n  font-size: 20px;\r\n  outline: transparent;\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 5px;\r\n  &:hover, &:focus {\r\n    color: #26d4cc;\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n  }\r\n`;","import { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport CategoryCard from './CategoryCard';\r\nimport Modal from '../Modal';\r\nimport { RedBlueButton } from '../../styles/components';\r\n\r\nimport { saveCategory, deleteCategory } from '../../redux/actions/categoryActions';\r\n\r\nconst Categories = props => {\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [idToDelete, setIdToDelete] = useState(null);\r\n  const [showInput, setShowInput] = useState(false);\r\n  const [categoryInput, setCategoryInput] = useState('');\r\n\r\n  function handleInputChange({ target }) {\r\n    setCategoryInput(target.value);\r\n  }\r\n\r\n  function openDeleteModal(categoryId) {\r\n    setIdToDelete(categoryId);\r\n    setShowDeleteModal(true);\r\n  }\r\n\r\n  function toggleNewInput() {\r\n    setShowInput(!showInput);\r\n  }\r\n\r\n  async function deleteCategory() {\r\n    await props.deleteCategory(idToDelete);\r\n  }\r\n\r\n  function save(data) {\r\n    return props.saveCategory(data);\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Modal\r\n        show={showDeleteModal}\r\n        close={() => setShowDeleteModal(false)}\r\n        callback={deleteCategory}\r\n        cancelText=\"Cancel\"\r\n        confirmText=\"Yes\"\r\n      >\r\n        Are you sure you want to delete this category?\r\n      </Modal>\r\n\r\n      <h2>Categories</h2>\r\n      {props.categories.filter(cat => cat.name !== 'None').map(cat => {\r\n        return (\r\n          <CategoryCard\r\n            category={cat}\r\n            key={`category-card-${cat.id}`}\r\n            openDeleteModal={openDeleteModal}\r\n            save={save}\r\n          />\r\n        )\r\n      })}\r\n\r\n      <RedBlueButton text onClick={toggleNewInput}>\r\n        {showInput ? 'Cancel' : 'New Category'}\r\n      </RedBlueButton>\r\n\r\n      {showInput\r\n        ? (\r\n          <form onSubmit={(e) => {\r\n            e.preventDefault();\r\n            save({ name: categoryInput });\r\n            setCategoryInput('');\r\n            setShowInput(false);\r\n          }}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"categoryInput\"\r\n              value={categoryInput}\r\n              onChange={handleInputChange}\r\n              autoFocus\r\n            />\r\n            <input type=\"submit\" hidden />\r\n          </form>\r\n        ) : null}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    categories: state.categories\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {\r\n  deleteCategory,\r\n  saveCategory\r\n};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Categories);\r\n\r\nconst Wrapper = styled.div`\r\n  width: 900px;\r\n  margin: auto;\r\n\r\n  > h2 {\r\n    font-size: 2.2rem;\r\n    text-align: center;\r\n    font-weight: 700;\r\n    margin: 24px auto;\r\n    padding-bottom: 12px;\r\n    border-bottom: 2px solid ${props => props.theme.mainRed};\r\n    width: 300px;\r\n  }\r\n\r\n  > button {\r\n    min-width: 20px;\r\n    text-align: center;\r\n    margin: auto;\r\n  }\r\n\r\n\r\n\r\n  > form {\r\n    width: 300px;\r\n    margin: 12px auto;\r\n\r\n    > input {\r\n      border: none;\r\n      padding: 0 0 11px 0;\r\n      background-color: transparent;\r\n      border-bottom: 1px solid #555;\r\n      color: white;\r\n      font-weight: 300;\r\n      font-family: Roboto;\r\n      height: 32px;\r\n      font-size: 1.2rem;\r\n      width: 200px;\r\n      margin: 24px auto 0 auto;\r\n      display: block;\r\n      outline: transparent;\r\n\r\n      &:last-of-type {\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import {\r\n  SET_ALL_CATEGORIES,\r\n  ADD_CATEGORY,\r\n  DELETE_CATEGORY,\r\n  EDIT_CATEGORY_IN_CATEGORIES,\r\n} from '../action-types/categoryTypes';\r\nimport * as API from '../../api';\r\n\r\nexport function getCategories() {\r\n  return async dispatch => {\r\n     try {\r\n        const response = await API.category.get();\r\n        dispatch({ type: SET_ALL_CATEGORIES, payload: response.data });\r\n        return response.data;\r\n     } catch (e) {\r\n       console.log('e in getCategories:::', e);\r\n     }\r\n  }\r\n}\r\n\r\nexport function saveCategory(data) {\r\n  return async dispatch => {\r\n     try {\r\n        let response;\r\n        if (data.id) {\r\n           response = await API.category.edit(data);\r\n           dispatch({ type: EDIT_CATEGORY_IN_CATEGORIES, payload: response.data });\r\n        } else {\r\n           response = await API.category.create(data);\r\n           dispatch({ type: ADD_CATEGORY, payload: response.data });\r\n        }\r\n        return response.data;\r\n     } catch (e) {\r\n        console.log('e in saveCategory:::', e);\r\n     }\r\n  }\r\n}\r\n\r\nexport function deleteCategory(id) {\r\n  return async dispatch => {\r\n     try {\r\n        await API.category.destroy(id);\r\n        dispatch({ type: DELETE_CATEGORY, payload: id });\r\n        return\r\n     } catch (e) {\r\n        console.log('e in deleteCategory:::', e);\r\n     }\r\n  }\r\n}","import * as Source from '../action-types/sourceTypes';\r\nimport * as API from '../../api';\r\n\r\nexport function listSources() {\r\n   return async dispatch => {\r\n      try {\r\n         const response = await API.source.get();\r\n         dispatch({ type: Source.SET_ALL_SOURCES, payload: response.data });\r\n         return response.data;\r\n      } catch (e) {\r\n        console.log('e in sourceActions listSources:::', e);\r\n      }\r\n   }\r\n}\r\n\r\nexport function saveSource(data) {\r\n  return async dispatch => {\r\n    try {\r\n      let response;\r\n      if (data.id) {\r\n        response = await API.source.edit(data);\r\n        dispatch({ type: Source.EDIT_SOURCE_IN_SOURCES, payload: response.data });\r\n      } else {\r\n        response = await API.source.create(data);\r\n        dispatch({ type: Source.ADD_SOURCE_TO_SOURCES, payload: response.data });\r\n      }\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log('e in sourceActions save:::', e);\r\n    }\r\n  }\r\n}\r\n\r\nexport function deleteSource(id) {\r\n  return async dispatch => {\r\n    try {\r\n      const response = await API.source.destroy(id);\r\n      dispatch({ type: Source.DELETE_SOURCE, payload: id });\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log('e in sourceActions deleteSource:::', e);\r\n    }\r\n  }\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { connect } from 'react-redux';\r\n\r\nimport { saveSource } from '../../redux/actions/sourceActions';\r\n\r\nconst BIASES = [\r\n  { text: \"Hard Left\", value: \"Hard_Left\" },\r\n  { text: \"Left\", value: \"Left\" },\r\n  { text: \"Left Center\", value: \"Left_Center\" },\r\n  { text: \"Least Biased\", value: \"Least_Biased\" },\r\n  { text: \"Right Center\", value: \"Right_Center\" },\r\n  { text: \"Right\", value: \"Right\" },\r\n  { text: \"Hard Right\", value: \"Hard_Right\" },\r\n];\r\n\r\nconst CREDIBILITY = [\r\n  \"High\",\r\n  \"Medium\",\r\n  \"Low\"\r\n];\r\n\r\nconst FACTUAL_REPORTING = [\r\n  { text: \"Very High\", value: \"Very_High\" },\r\n  { text: \"High\", value: \"High\" },\r\n  { text: \"Mostly Factual\", value: \"Mostly_Factual\" },\r\n  { text: \"Mixed\", value: \"Mixed\" },\r\n  { text: \"Low\", value: \"Low\" },\r\n  { text: \"Very Low\", value: \"Very_Low\" },\r\n];\r\n\r\nconst SourceForm = props => {\r\n  const [name, setName] = useState('');\r\n  const [bias, setBias] = useState('');\r\n  const [factualReporting, setFactualReporting] = useState('');\r\n  const [credibility, setCredibility] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [url, setUrl] = useState('');\r\n  const [factCheckUrl, setFactCheckUrl] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const { source, toggleEditable } = props;\r\n\r\n  useEffect(() => {\r\n    (function () {\r\n      if (source) {\r\n        setName(source.name);\r\n        setBias(source.bias);\r\n        setFactualReporting(source.factualReporting);\r\n        setCredibility(source.credibility);\r\n        setCategory(source.category);\r\n        setUrl(source.url);\r\n        setFactCheckUrl(source.factCheckUrl);\r\n      }\r\n    })();\r\n  }, [source]);\r\n\r\n  function handleInputChange({ target }) {\r\n    const { name, value } = target;\r\n    switch (name) {\r\n      case 'name':\r\n        setName(value);\r\n        break;\r\n      case 'bias':\r\n        setBias(value);\r\n        break;\r\n      case 'reporting':\r\n        setFactualReporting(value);\r\n        break;\r\n      case 'credibility':\r\n        setCredibility(value);\r\n        break;\r\n      case 'url':\r\n        setUrl(value);\r\n        break;\r\n      default:\r\n        setFactCheckUrl(value);\r\n    }\r\n  }\r\n\r\n  function validate() {\r\n    const missingFields = [];\r\n    let isValid = true;\r\n    if (!name) missingFields.push('name');\r\n    if (!bias) missingFields.push('bias');\r\n    if (!factualReporting) missingFields.push('factualReporting');\r\n    if (!credibility) missingFields.push('credibility');\r\n    if (!url) missingFields.push('url');\r\n    if (!factCheckUrl) missingFields.push('factCheckUrl');\r\n    if (missingFields.length) {\r\n      setError(`The following fields are missing: ${missingFields.join(', ')}`)\r\n      isValid = false;\r\n    }\r\n    return isValid;\r\n  }\r\n\r\n  async function save(event) {\r\n    if (event) event.preventDefault();\r\n    const isValid = validate();\r\n    if (!isValid) return;\r\n    let update = {};\r\n    if (!source || !source.id) {\r\n      update = {\r\n        name,\r\n        bias,\r\n        factualReporting,\r\n        credibility,\r\n        url,\r\n        factCheckUrl\r\n      };\r\n    } else {\r\n      update.id = source.id;\r\n      if (source.name !== name) update.name = name;\r\n      if (source.bias !== bias) update.bias = bias;\r\n      if (source.factualReporting !== factualReporting) update.factualReporting = factualReporting;\r\n      if (source.credibility !== credibility) update.credibility = credibility;\r\n      if (source.url !== url) update.url = url;\r\n      if (source.factCheckUrl !== factCheckUrl) update.factCheckUrl = factCheckUrl;\r\n    }\r\n    await props.saveSource(update);\r\n    toggleEditable();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={save} className=\"main-container\">\r\n        <input\r\n          className=\"name-input\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={handleInputChange}\r\n        />\r\n        <select\r\n          className=\"bias-input\"\r\n          name=\"bias\"\r\n          value={bias}\r\n          onChange={handleInputChange}\r\n        >\r\n          {BIASES.map((bias) => {\r\n            return <option key={`bias-${bias.value}`} value={bias.value}>{bias.text}</option>\r\n          })}\r\n        </select>\r\n        <select\r\n          className=\"credibility-input\"\r\n          name=\"credibility\"\r\n          value={credibility}\r\n          onChange={handleInputChange}\r\n        >\r\n          {CREDIBILITY.map((cred) => {\r\n            return <option key={`cred-${cred}`} value={cred}>{cred}</option>\r\n          })}\r\n        </select>\r\n        <select\r\n          className=\"reporting-input\"\r\n          name=\"reporting\"\r\n          value={factualReporting}\r\n          onChange={handleInputChange}\r\n        >\r\n          {FACTUAL_REPORTING.map((fax) => {\r\n            return <option key={`fax-${fax.value}`} value={fax.value}>{fax.text}</option>\r\n          })}\r\n        </select>\r\n        <select\r\n          className=\"category-input\"\r\n          name=\"category\"\r\n          value={category}\r\n          onChange={handleInputChange}\r\n        >\r\n          {[\"Conservative\", \"Liberal\", \"Neutral\"].map((cat, i) => {\r\n            return <option key={`cat-${i}`} value={cat}>{cat}</option>\r\n          })}\r\n        </select>\r\n\r\n\r\n        <div className=\"urls\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"url\"\r\n            value={url}\r\n            onChange={handleInputChange}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"factCheckUrl\"\r\n            value={factCheckUrl}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n\r\n        <p>{error ? error : ''}</p>\r\n      </form>\r\n\r\n      <div className=\"buttons\">\r\n        <button onClick={toggleEditable}>\r\n          <i className=\"fas fa-undo\" />\r\n        </button>\r\n\r\n        <button onClick={save}>\r\n          <i className=\"fas fa-save\" />\r\n        </button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    blog: state.blog,\r\n    sources: state.sources\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = { saveSource };\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(SourceForm);\r\n","import { useState } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport SourceForm from \"./SourceForm\";\r\n\r\nconst SourceCard = props => {\r\n  const [editable, setEditable] = useState(false);\r\n  const { source, openDeleteModal } = props;\r\n\r\n  function toggleEditable() {\r\n    setEditable(!editable);\r\n  }\r\n\r\n  return (\r\n    editable\r\n      ? (\r\n        <Card>\r\n          <SourceForm toggleEditable={toggleEditable} source={source} />\r\n        </Card>\r\n      ) : (\r\n        <Card>\r\n          <div className=\"main-container\">\r\n            <p className=\"name\">{source.name}</p>\r\n            <p className=\"bias\">{source.bias.split('_').join(' ')}</p>\r\n            <p className=\"credibility\">{source.credibility}</p>\r\n            <p className=\"reporting\">{source.factualReporting.split('_').join(' ')}</p>\r\n            <p className=\"category\">{source.category}</p>\r\n            <div className=\"urls\">\r\n              <p>\r\n                <a href={source.url} target=\"_blank\" rel=\"noopener noreferrer nofollow\">\r\n                  {source.url}\r\n                </a>\r\n              </p>\r\n              <p>\r\n                <a href={source.factCheckUrl} target=\"_blank\" rel=\"noopener noreferrer nofollow\">\r\n                  {source.factCheckUrl}\r\n                </a>\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"buttons\">\r\n            <button onClick={toggleEditable}>\r\n              <i className=\"far fa-edit\" />\r\n            </button>\r\n\r\n            <button onClick={() => openDeleteModal(source.id)}>\r\n              <i className=\"fas fa-times\" />\r\n            </button>\r\n          </div>\r\n        </Card>\r\n      )\r\n  );\r\n}\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    sources: state.sources,\r\n    categories: state.categories\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(SourceCard);\r\n\r\nexport const Card = styled.div`\r\n  border: 1px solid ${props => props.add ? props.theme.nBlue : props.theme.text};\r\n  display: flex;\r\n  ${props => props.add && 'margin-bottom: 24px;'}\r\n\r\n  > .main-container {\r\n    width: calc(100% - 60px);\r\n    align-items: center;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    height: 80px;\r\n    padding: 6px 12px;\r\n    ${props => props.head && 'font-size: 1.4rem;'}\r\n\r\n    > .name, > .name-input {\r\n      width: 220px;\r\n\r\n    }\r\n    > .bias, > .bias-input,\r\n    > .credibility, > .credibility-input,\r\n    > .reporting, > .reporting-input,\r\n    > .category, > .category-input {\r\n      width: 120px;\r\n    }\r\n\r\n    > input, > select,\r\n    > .urls > input {\r\n      padding: 4px 0;\r\n      background-color: transparent;\r\n      outline: transparent;\r\n      border: none;\r\n      border-bottom: 1px solid #333;\r\n      color: ${props => props.theme.text};\r\n      font-size: 1rem;\r\n      font-weight: 300;\r\n      font-family: Roboto;\r\n    }\r\n\r\n    > .urls {\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: space-around;\r\n\r\n      > p {\r\n        width: 48%;\r\n\r\n        > a {\r\n          color: ${props => props.theme.nBlue};\r\n          font-size: .9rem;\r\n        }\r\n      }\r\n\r\n      > input {\r\n        width: 48%;\r\n      font-size: .9rem;\r\n      }\r\n    }\r\n  }\r\n\r\n  > .buttons {\r\n    width: 60px;\r\n    text-align: right;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: right;\r\n    margin: auto;\r\n\r\n    > button {\r\n      background-color: transparent;\r\n      outline: transparent;\r\n      border: none;\r\n      color: ${props => props.theme.text};\r\n      cursor: pointer;\r\n\r\n      &:hover {\r\n        color: ${props => props.theme.nBlue};\r\n      }\r\n    }\r\n  }\r\n`;","import { useState } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport SourceCard, { Card } from './SourceCard';\r\nimport SourceForm from \"./SourceForm\";\r\nimport Modal from '../Modal';\r\n\r\nimport { saveSource, deleteSource } from '../../redux/actions/sourceActions';\r\n\r\nconst Sources = props => {\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [showSourceForm, setShowSourceForm] = useState(false);\r\n  const [idToDelete, setIdToDelete] = useState(null);\r\n\r\n  function openDeleteModal(sourceId) {\r\n    setIdToDelete(sourceId);\r\n    setShowDeleteModal(true);\r\n  }\r\n\r\n  function toggleSourceForm() {\r\n    setShowSourceForm(!showSourceForm);\r\n  }\r\n\r\n  async function deleteSource() {\r\n    await props.deleteSource(idToDelete);\r\n  }\r\n\r\n  function save(data) {\r\n    return props.saveSource(data);\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Modal\r\n        show={showDeleteModal}\r\n        close={() => setShowDeleteModal(false)}\r\n        callback={deleteSource}\r\n        cancelText=\"Cancel\"\r\n        confirmText=\"Yes\"\r\n      >\r\n        Are you sure you want to delete this source?\r\n      </Modal>\r\n\r\n      <h2>Sources</h2>\r\n\r\n      {showSourceForm\r\n        ? (\r\n          <Card add>\r\n            <SourceForm toggleEditable={toggleSourceForm} />\r\n          </Card>\r\n        ) : null}\r\n\r\n      <Card head>\r\n        <div className=\"main-container\">\r\n          <p className=\"name\">Organization</p>\r\n          <p className=\"bias\">Bias</p>\r\n          <p className=\"credibility\">Credibility</p>\r\n          <p className=\"reporting\">Factual Reporting</p>\r\n          <p className=\"category\">Category</p>\r\n        </div>\r\n        <div className=\"buttons\">\r\n          <button onClick={toggleSourceForm} style={{ marginRight: '12px' }}>\r\n            <i className=\"fas fa-plus-circle\" />\r\n          </button>\r\n        </div>\r\n      </Card>\r\n\r\n      {props.sources.filter(s => s.category === 'Neutral').map((source, i) => (\r\n        <SourceCard\r\n          key={`source-card-${source.id}`}\r\n          source={source}\r\n          openDeleteModal={openDeleteModal}\r\n          save={save}\r\n        />\r\n      ))}\r\n\r\n      {props.sources.filter(s => s.category === 'Liberal').map((source, i) => (\r\n        <SourceCard\r\n          key={`source-card-${source.id}`}\r\n          source={source}\r\n          openDeleteModal={openDeleteModal}\r\n          save={save}\r\n        />\r\n      ))}\r\n\r\n      {props.sources.filter(s => s.category === 'Conservative').map((source, i) => (\r\n        <SourceCard\r\n          key={`source-card-${source.id}`}\r\n          source={source}\r\n          openDeleteModal={openDeleteModal}\r\n          save={save}\r\n        />\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    sources: state.sources\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {\r\n  deleteSource,\r\n  saveSource\r\n};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Sources);\r\n\r\nconst Wrapper = styled.div`\r\n  width: 900px;\r\n  margin: auto;\r\n\r\n  h2 {\r\n    width: 100%;\r\n    font-size: 2.2rem;\r\n    text-align: center;\r\n    font-weight: 700;\r\n    margin: 24px auto;\r\n    padding-bottom: 12px;\r\n    border-bottom: 2px solid ${props => props.theme.mainRed};\r\n  }\r\n`;\r\n","import { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { format } from 'date-fns';\r\n\r\nconst UserCard = props => {\r\n  const { openModal, user } = props;\r\n\r\n  function getAcl() {\r\n    let acl = '';\r\n    if (user.acl.includes('admin')) acl = 'admin';\r\n    if (acl !== 'admin' && user.acl.includes('friend')) acl = 'friend';\r\n    return acl;\r\n  }\r\n\r\n  return (\r\n    <UserCardWrapper>\r\n      <p className=\"username\">{user.username}</p>\r\n      <p className=\"email\">{user.email}</p>\r\n      <p className=\"acl\">{getAcl()}</p>\r\n      <p className=\"status\">{user.status}</p>\r\n      <p className=\"since\">{format(new Date(user.createdAt), 'MMM dd, yyyy - hh:mm aaaa')}</p>\r\n      <div className=\"buttons\">\r\n        <button\r\n          onClick={() => openModal(user.id, 'reset-pw')}\r\n          title=\"reset pw\"\r\n          disabled={user.acl.includes('admin')}\r\n        >\r\n          <i className=\"fas fa-unlock-alt\" />\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => openModal(user.id, 'active')}\r\n          title=\"reactivate user\"\r\n          disabled={user.status === 'active'}\r\n        >\r\n          <i className=\"far fa-smile-beam\" />\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => openModal(user.id, 'friend')}\r\n          title=\"set as friend\"\r\n          disabled={user.acl.includes('friend')}\r\n        >\r\n          <i className=\"fas fa-robot\" />\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => openModal(user.id, 'unfriend')}\r\n          title=\"remove as friend\"\r\n          disabled={!user.acl.includes('friend') || user.acl.includes('admin')}\r\n        >\r\n          <i className=\"fas fa-atom\" />\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => openModal(user.id, 'inactive')}\r\n          title=\"deactivate user\"\r\n          disabled={!user.status === 'active' || user.acl.includes('admin')}\r\n        >\r\n          <i className=\"far fa-stop-circle\" />\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => openModal(user.id, 'banned')}\r\n          title=\"ban user\"\r\n          disabled={user.status === 'banned' || user.acl.includes('admin')}\r\n        >\r\n          <i className=\"fas fa-ban\" />\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => openModal(user.id, 'delete')}\r\n          title=\"delete user\"\r\n          disabled={user.acl.includes('admin')}\r\n        >\r\n          <i className=\"far fa-trash-alt\" />\r\n        </button>\r\n      </div>\r\n    </UserCardWrapper>\r\n  );\r\n};\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    adminUsers: state.adminUsers\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(UserCard);\r\n\r\nexport const UserCardWrapper = styled.div`\r\n  width: 900px;\r\n  margin: auto;\r\n  display: flex;\r\n  align-items: center;\r\n  border-bottom: 1px solid ${props => props.theme.text};\r\n  padding: 6px 0 6px 12px;\r\n  /* justify-content: space-between; */\r\n\r\n  &:last-of-type {\r\n    border: none;\r\n  }\r\n\r\n  > .username {\r\n    min-width: 200px;\r\n    max-width: 200px;\r\n  }\r\n  > .email {\r\n    min-width: 250px;\r\n    max-width: 250px;\r\n  }\r\n  > .acl {\r\n    min-width: 70px;\r\n    max-width: 70px;\r\n  }\r\n  > .status {\r\n    min-width: 70px;\r\n    max-width: 70px;\r\n  }\r\n  > .since {\r\n    min-width: 210px;\r\n    max-width: 210px;\r\n  }\r\n\r\n  > .buttons {\r\n    min-width: 100px;\r\n    max-width: 100px;\r\n    width: 100px;\r\n    text-align: right;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border-left: 1px solid ${props => props.theme.nBlue};\r\n\r\n    > button {\r\n      background-color: transparent;\r\n      outline: transparent;\r\n      border: none;\r\n      color: ${props => props.theme.nPurple};\r\n      cursor: pointer;\r\n      padding: 3px 4px;\r\n\r\n      &:hover {\r\n        color: ${props => props.theme.nBlue};\r\n      }\r\n\r\n      &:disabled {\r\n        color: #555;\r\n        cursor: default;\r\n      }\r\n    }\r\n  }\r\n`;","import { useEffect, useState } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport UserCard from \"./UserCard\";\r\nimport Modal from '../Modal';\r\nimport { Form, Input, Label } from '../../styles/components'\r\nimport { UserCardWrapper } from './UserCard';\r\n\r\nimport { getBasicSearchCriteria } from '../../utils/halp';\r\n\r\nimport { adminListUsers, adminDeactivateUser, adminUpdateUser, adminDeleteUser } from '../../redux/actions/adminUserActions';\r\nimport { setSearchCriteria, setCount } from '../../redux/actions/otherActions';\r\n\r\nconst Users = props => {\r\n  const [action, setAction] = useState('');\r\n  const [modalMessage, setModalMessage] = useState('');\r\n  const [userIdToUpdate, setUserIdToUpdate] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [email, setEmail] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [acl, setAcl] = useState('');\r\n  const [status, setStatus] = useState('');\r\n\r\n  const { skip, take } = props.criteria;\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      const result = await props.adminListUsers(getBasicSearchCriteria());\r\n      props.setCount(result.count);\r\n    })();\r\n  }, []);\r\n\r\n  function handleInputChange({ target }) {\r\n    const { name, value } = target;\r\n    if (name === 'email') setEmail(value);\r\n    if (name === 'username') setUsername(value);\r\n    if (name === 'acl') setAcl(value);\r\n    if (name === 'status') setStatus(value);\r\n  }\r\n\r\n  async function searchUsers(event) {\r\n    event.preventDefault();\r\n    const search = getBasicSearchCriteria();\r\n    if (email) search.email = email;\r\n    if (username) search.username = username;\r\n    if (acl) search.acl = acl;\r\n    if (status) search.status = status;\r\n    props.setSearchCriteria(search);\r\n    await props.adminListUsers(search);\r\n  }\r\n\r\n  async function nextTenUsers() {\r\n    const plus10 = skip + 10;\r\n    props.adminListUsers({ ...props.criteria, skip: plus10 }, true);\r\n    props.setSearchCriteria({ ...props.criteria, skip: plus10 });\r\n  }\r\n\r\n  function openModal(userId, status) {\r\n    if (status === 'active') {\r\n      setModalMessage('Are you sure you want to reactivate this user?')\r\n    }\r\n    if (status === 'friend') {\r\n      setModalMessage('Are you sure you want to give this user friend access?')\r\n    }\r\n    if (status === 'inactive') {\r\n      setModalMessage('Are you sure you want to deactivate this user?')\r\n    }\r\n    if (status === 'banned') {\r\n      setModalMessage('Are you sure you want to ban this user?')\r\n    }\r\n    if (status === 'reset-pw') {\r\n      setModalMessage('Are you sure you want to reset this user\\'s password?')\r\n    }\r\n    if (status === 'delete') {\r\n      setModalMessage('Are you sure you want to delete this user?')\r\n    }\r\n    setAction(status);\r\n    setUserIdToUpdate(userId);\r\n    setShowModal(true);\r\n  }\r\n\r\n  function modalSaveUser() {\r\n    if (action === 'inactive' || action === 'banned') {\r\n      props.adminDeactivateUser(userIdToUpdate, action);\r\n    }\r\n    if (action === 'active') {\r\n      props.adminUpdateUser({\r\n        id: userIdToUpdate,\r\n        status: action\r\n      });\r\n    }\r\n    if (action === 'friend') {\r\n      props.adminUpdateUser({\r\n        id: userIdToUpdate,\r\n        addFriend: true\r\n      });\r\n    }\r\n    if (action === 'unfriend') {\r\n      props.adminUpdateUser({\r\n        id: userIdToUpdate,\r\n        removeFriend: true\r\n      });\r\n    }\r\n    if (action === 'reset-pw') {\r\n      props.adminUpdateUser({\r\n        resetPassword: true,\r\n        id: userIdToUpdate\r\n      });\r\n    }\r\n    if (action === 'delete') {\r\n      props.adminDeleteUser(userIdToUpdate);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Modal\r\n        show={showModal}\r\n        close={() => setShowModal(false)}\r\n        callback={modalSaveUser}\r\n        cancelText=\"Cancel\"\r\n        confirmText=\"Yes\"\r\n      >\r\n        {modalMessage}\r\n      </Modal>\r\n\r\n      <h2>Users Nomsayn?</h2>\r\n\r\n      <SearchWrapper>\r\n        <h2>Seek and Destroy!</h2>\r\n\r\n        <Form submit={searchUsers}>\r\n          <FormRow>\r\n            <div>\r\n              <Label>Username:</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                value={username}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label>Email:</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label>ACL:</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"acl\"\r\n                value={acl}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label>Status:</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"status\"\r\n                value={status}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n          </FormRow>\r\n        </Form>\r\n      </SearchWrapper>\r\n      \r\n      <UserCardWrapper style={{ borderBottom: '1px solid #333' }}>\r\n        <p className=\"username\">Username</p>\r\n        <p className=\"email\">Email</p>\r\n        <p className=\"acl\">ACL</p>\r\n        <p className=\"status\">Status</p>\r\n        <p className=\"since\">Follower Since</p>\r\n        <div className=\"buttons\"></div>\r\n      </UserCardWrapper>\r\n      {props.adminUsers.map((user) => {\r\n        return (\r\n          <UserCard\r\n            key={`user-card-${user.id}`}\r\n            user={user}\r\n            openModal={openModal}\r\n          />\r\n        )\r\n      })}\r\n\r\n      {props.count >= (skip + take) && (\r\n        <button onClick={nextTenUsers}>Load More...</button>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    adminUsers: state.adminUsers,\r\n    count: state.count,\r\n    criteria: state.criteria\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {\r\n  adminListUsers,\r\n  adminDeactivateUser,\r\n  adminDeleteUser,\r\n  adminUpdateUser,\r\n  setCount,\r\n  setSearchCriteria\r\n};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Users);\r\n\r\nconst Wrapper = styled.div`\r\n  width: 900px;\r\n  margin: auto;\r\n\r\n  > h2 {\r\n    font-size: 2.2rem;\r\n    text-align: center;\r\n    font-weight: 700;\r\n    margin: 24px auto 12px auto;\r\n    padding-bottom: 12px;\r\n    border-bottom: 2px solid ${props => props.theme.mainRed};\r\n  }\r\n`;\r\n\r\nconst SearchWrapper = styled.div`\r\n  margin-bottom: 24px;\r\n  padding-bottom: 12px;\r\n  /* border-bottom: 1px solid #333; */\r\n\r\n  > h2 {\r\n    font-size: 1.8rem;\r\n    font-weight: 500;\r\n    margin-bottom: 12px;\r\n  }\r\n`;\r\n\r\nconst FormRow = styled.div`\r\n  display: flex;\r\n\r\n  > div {\r\n    margin-right: 12px;\r\n\r\n    &:last-of-type {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n`;\r\n","import {\r\n  ADD_MORE_USERS,\r\n  DELETE_USER,\r\n  EDIT_USER,\r\n  SET_ALL_USERS,\r\n} from '../action-types/adminUserTypes';\r\nimport * as API from '../../api';\r\n\r\nexport function adminListUsers(query = {}, add) {\r\n  return async dispatch => {\r\n    try {\r\n      const response = await API.user.adminListUsers(query);\r\n      if (add) {\r\n        dispatch({ type: ADD_MORE_USERS, payload: response.data.users });\r\n      } else {\r\n        dispatch({ type: SET_ALL_USERS, payload: response.data.users });\r\n      }\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log('e in getCategories:::', e);\r\n    }\r\n  }\r\n}\r\n\r\nexport function adminUpdateUser(data) {\r\n  return async dispatch => {\r\n    try {\r\n      const response = await API.user.adminUpdateUser(data);\r\n      dispatch({ type: EDIT_USER, payload: response.data });\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log('e in getCategories:::', e);\r\n    }\r\n  }\r\n}\r\n\r\nexport function adminDeactivateUser(id, status) {\r\n  return async dispatch => {\r\n    try {\r\n      const response = await API.user.adminDeactivateUser(id, status);\r\n      dispatch({ type: EDIT_USER, payload: response.data });\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log('e in getCategories:::', e);\r\n    }\r\n  }\r\n}\r\n\r\nexport function adminDeleteUser(id) {\r\n  return async dispatch => {\r\n    try {\r\n      const response = await API.user.adminDeleteUser(id);\r\n      dispatch({ type: DELETE_USER, payload: id });\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log('e in adminDeleteUser:::', e);\r\n    }\r\n  }\r\n}","import { useEffect, useState } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport Navbar from \"../components/Navbar\";\r\nimport Blog from '../components/admin/Blog';\r\nimport Categories from '../components/admin/Categories';\r\nimport Sources from '../components/admin/Sources';\r\nimport Users from '../components/admin/Users';\r\nimport { MainButton } from '../styles/components';\r\n\r\nimport { deleteSource, listSources, saveSource } from '../redux/actions/sourceActions';\r\n\r\nconst Admin = props => {\r\n  const [showing, setShowing] = useState({ ...falsetto(), blog: true });\r\n\r\n  function falsetto() {\r\n    return {\r\n      blog: false,\r\n      categories: false,\r\n      cray: false,\r\n      sources: false,\r\n      users: false,\r\n    }\r\n  }\r\n\r\n  function toggleView(type) {\r\n    setShowing({ ...falsetto(), [type]: true });\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    (function () {\r\n      if (props.admin) {\r\n        props.listSources();\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Navbar />\r\n\r\n      <h1>It's My Admin Page! Yay!</h1>\r\n      <p>Come, let me do admin-y things to you...</p>\r\n\r\n      <Main>\r\n        <div className=\"admin-buttons\">\r\n          <MainButton onClick={() => toggleView('blog')} color=\"nRed\">Blog</MainButton>\r\n          <MainButton onClick={() => toggleView('users')} color=\"nPurple\">Users</MainButton>\r\n          <MainButton onClick={() => toggleView('categories')} color=\"nBlue\">Categories</MainButton>\r\n          <MainButton onClick={() => toggleView('sources')} color=\"nGreen\">Sources</MainButton>\r\n          <MainButton onClick={() => toggleView('cray')} color=\"nYellow\">Cray Cray</MainButton>\r\n        </div>\r\n\r\n        {/* each of these should show a different component that fetches the relevant data */}\r\n        {showing.blog && <Blog />}\r\n\r\n        {showing.categories && <Categories />}\r\n\r\n        {/* this will show more than just the form - the form will be there, but hidden until needed, such as when a \"create\" button is clicked */}\r\n        {showing.sources && <Sources />}\r\n\r\n        {showing.users && <Users />}\r\n\r\n        {showing.cray && <div>hi there, Crayg!</div>}\r\n      </Main>\r\n    </Wrapper>\r\n\r\n  )\r\n}\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    blog: state.blog,\r\n    sources: state.sources\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {\r\n  deleteSource,\r\n  listSources,\r\n  saveSource,\r\n};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Admin);\r\n\r\nconst Wrapper = styled.div`\r\n  min-height: 100vh;\r\n\r\n  > h1 {\r\n    font-size: 3rem;\r\n    font-weight: 700;\r\n    text-align: center;\r\n    line-height: 1.4;\r\n  }\r\n\r\n  > p {\r\n    font-size: 1.35rem;\r\n    text-align: center;\r\n    color: ${props => props.theme.mainRed};\r\n    margin-bottom: 36px;\r\n  }\r\n`;\r\n\r\nconst Main = styled.main`\r\n  width: 900px;\r\n  margin: auto;\r\n\r\n  > .admin-buttons {\r\n    width: 520px;\r\n    display: flex;\r\n    justify-content: center;\r\n    padding: 12px 12px 14px 12px;\r\n    border-radius: 8px;\r\n    background-color: ${props => props.theme.text + '55'};\r\n    margin: auto;\r\n\r\n    > button:last-child {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n`;","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { signup, setError, clearError } from '../../redux/actions/authActions';\r\nimport { Input, MainButton } from '../../styles/components';\r\n\r\nconst Signup = props => {\r\n  const [email, setEmail] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmation, setConfirmation] = useState('');\r\n\r\n  const handleInputChange = e => {\r\n    const { name, value } = e.target;\r\n    switch (name) {\r\n      case 'email': return setEmail(value);\r\n      case 'username': return setUsername(value);\r\n      case 'password': return setPassword(value);\r\n      default: setConfirmation(value);\r\n    }\r\n  }\r\n\r\n  const enterSandman = async e => {\r\n    e.preventDefault();\r\n    if (password !== confirmation) {\r\n      props.setError('Passwords do not match.', 'signup');\r\n      setTimeout(() => props.clearError(), 5000);\r\n      return;\r\n    }\r\n\r\n    await props.signup({ email, password, username });\r\n    setTimeout(() => props.clearError(), 5000);\r\n  }\r\n\r\n  return (\r\n    <Form>\r\n      <h3>Sign Up</h3>\r\n      <Input\r\n        type=\"text\"\r\n        name=\"email\"\r\n        value={email}\r\n        onChange={handleInputChange}\r\n        placeholder=\"Enter your email\"\r\n      />\r\n      <Input\r\n        type=\"text\"\r\n        name=\"username\"\r\n        value={username}\r\n        onChange={handleInputChange}\r\n        placeholder=\"Enter your username\"\r\n      />\r\n\r\n      <Input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        value={password}\r\n        onChange={handleInputChange}\r\n        placeholder=\"Enter your password\"\r\n      />\r\n\r\n      <Input\r\n        type=\"password\"\r\n        name=\"confirmation\"\r\n        value={confirmation}\r\n        onChange={handleInputChange}\r\n        placeholder=\"Confirm your password\"\r\n      />\r\n\r\n      <MainButton\r\n        color=\"nBlue\"\r\n        disabled={!email || !username || !password || !confirmation}\r\n        onClick={enterSandman}\r\n      >\r\n        Abandon all hope...\r\n      </MainButton>\r\n\r\n      <button className=\"toggle-button\" onClick={props.toggleForms}>login</button>\r\n\r\n      <Error>{props.error}</Error>\r\n    </Form>\r\n  )\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    error: state.auth.signupError\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { signup, setError, clearError })(Signup);\r\n\r\nexport const Form = styled.form`\r\n  margin: auto;\r\n  width: 240px;\r\n  position: relative;\r\n  padding-bottom: 24px;\r\n\r\n  > h3 {\r\n    font-size: 1.8rem;\r\n    margin-bottom: 12px;\r\n    color: ${props => props.theme.nPurple};\r\n  }\r\n\r\n  > input {\r\n    width: 100%;\r\n    margin-bottom: 12px;\r\n  }\r\n\r\n  > button {\r\n    margin: 12px auto;\r\n    display: block;\r\n  }\r\n\r\n  > .toggle-button {\r\n    border: none;\r\n    background: none;\r\n    outline: transparent;\r\n    color: ${props => props.theme.nBlue};\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const Error = styled.div`\r\n  color: crimson;\r\n  font-size: 12px;\r\n  text-align: center;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n`;\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { login, reactivate, clearError } from '../../redux/actions/authActions';\r\nimport { Error, Form } from './Signup';\r\n\r\nimport { Input, MainButton, PurpleGreenButton } from '../../styles/components';\r\n\r\nconst Login = props => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  function handleInputChange(e) {\r\n    const { name, value } = e.target;\r\n    if (name === 'email') return setEmail(value);\r\n    setPassword(value);\r\n  }\r\n\r\n  async function enterSandman(e) {\r\n    e.preventDefault();\r\n    await props.login({ email, password });\r\n    setTimeout(() => props.clearError(), 5000);\r\n  }\r\n\r\n  function submitReactivate(e) {\r\n    e.preventDefault();\r\n    props.reactivate(email);\r\n  }\r\n\r\n  return (\r\n    <Form login>\r\n      <h3>Login</h3>\r\n      <Input\r\n        type=\"text\"\r\n        name=\"email\"\r\n        value={email}\r\n        onChange={handleInputChange}\r\n        placeholder=\"Enter your email\"\r\n      />\r\n      <Input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        value={password}\r\n        onChange={handleInputChange}\r\n        placeholder=\"Enter your password\"\r\n      />\r\n      <MainButton\r\n        color=\"nBlue\"\r\n        disabled={!email || !password}\r\n        onClick={enterSandman}\r\n      >\r\n        Abandon all hope...\r\n      </MainButton>\r\n\r\n      <button className=\"toggle-button\" onClick={props.toggleForms}>register</button>\r\n      <Error>{props.error}</Error>\r\n\r\n      {props.error && props.error.includes('Would you like to reactivate it') && (\r\n        <PurpleGreenButton text onClick={submitReactivate}>\r\n          Yes, please reactivate my account\r\n        </PurpleGreenButton>\r\n      )}\r\n    </Form>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    error: state.auth.loginError\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { login, reactivate, clearError })(Login);\r\n","import { useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from 'styled-components';\r\n\r\nimport Login from '../components/authoritaw/Login';\r\nimport Signup from '../components/authoritaw/Signup';\r\n\r\nconst Auth = () => {\r\n  const [showLogin, setShowLogin] = useState(true);\r\n\r\n  function toggleForms() {\r\n    setShowLogin(!showLogin);\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      {showLogin\r\n        ? (\r\n          <Login toggleForms={toggleForms} />\r\n        ) : (\r\n          <Signup toggleForms={toggleForms} />\r\n        )}\r\n      <p><Link to=\"/\">&lt;&lt; home</Link></p>\r\n    </Wrapper>\r\n  )\r\n};\r\n\r\nexport default Auth;\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  min-height: 100vh;\r\n  min-width: 100vw;\r\n  position: relative;\r\n\r\n  > p {\r\n    position: absolute;\r\n    bottom: 50px;\r\n    text-align: center;\r\n    > a {\r\n      color: ${props => props.theme.nBlue};\r\n    }\r\n  }\r\n`;\r\n","import {\r\n  Editor,\r\n  Element as SlateElement,\r\n  Transforms\r\n} from 'slate';\r\nimport { useSlate } from 'slate-react';\r\nimport styled from 'styled-components';\r\n\r\nconst LIST_TYPES = ['numbered-list', 'bulleted-list'];\r\n\r\nconst toggleBlock = (editor, format) => {\r\n  const isActive = isBlockActive(editor, format);\r\n  const isList = LIST_TYPES.includes(format);\r\n\r\n  Transforms.unwrapNodes(editor, {\r\n    match: n =>\r\n      LIST_TYPES.includes(\r\n        !Editor.isEditor(n) && SlateElement.isElement(n) && n.type\r\n      ),\r\n      split: true\r\n  });\r\n\r\n  const newProperties = {\r\n    type: isActive ? 'paragraph' : isList ? 'list-item' : format\r\n  };\r\n\r\n  Transforms.setNodes(editor, newProperties);\r\n\r\n  if (!isActive && isList) {\r\n    const block = { type: format, children: [] };\r\n    Transforms.wrapNodes(editor, block);\r\n  }\r\n}\r\n\r\nexport const toggleMark = (editor, format) => {\r\n  const isActive = isMarkActive(editor, format);\r\n  if (isActive) Editor.removeMark(editor, format);\r\n  else Editor.addMark(editor, format, true);\r\n}\r\n\r\nconst isBlockActive = (editor, format) => {\r\n  const [match] = Editor.nodes(editor, {\r\n    match: n =>\r\n      !Editor.isEditor(n) && SlateElement.isElement(n) && n.type === format\r\n  });\r\n\r\n  return !!match;\r\n}\r\n\r\nconst isMarkActive = (editor, format) => {\r\n  const marks = Editor.marks(editor);\r\n  return marks ? marks[format] === true : false;\r\n}\r\n\r\nconst RenderButtons = props => {\r\n\r\n  const MarkButton = ({ format, icon, inline }) => {\r\n    const editor = useSlate();\r\n    let color;\r\n    if (format === 'red') color = '#bd0000';\r\n    if (format === 'blue') color = '#1111ff';\r\n    if (format === 'green') color = '#39ff14';\r\n    if (format === 'yellow') color = '#fffb00';\r\n    if (format === 'purple') color = '#660d8a';\r\n\r\n    return (\r\n      <EditorBtn\r\n        active={isMarkActive(editor, format)}\r\n        onMouseDown={event => {\r\n          event.preventDefault();\r\n          toggleMark(editor, format);\r\n        }}\r\n        style={{ color }}\r\n        inline={inline}\r\n      >\r\n        <i className={`fas fa-${icon}`} />\r\n      </EditorBtn>\r\n    );\r\n  };\r\n\r\n  const BlockButton = ({ format, icon, inline }) => {\r\n    const editor = useSlate();\r\n\r\n    let span;\r\n    if (format.includes('one')) span = <span>&nbsp;1</span>;\r\n    if (format.includes('two')) span = <span>&nbsp;2</span>;\r\n    if (format.includes('three')) span = <span>&nbsp;3</span>;  \r\n\r\n    return (\r\n      <EditorBtn\r\n        active={isBlockActive(editor, format)}\r\n        onMouseDown={event => {\r\n          event.preventDefault();\r\n          toggleBlock(editor, format);\r\n        }}\r\n        key={`icon-${format}`}\r\n        inline={inline}\r\n      >\r\n        <i className={`fas fa-${icon}`} />\r\n        {span}\r\n      </EditorBtn>\r\n    );\r\n  };\r\n\r\n  // const renderLinkButton = (type, icon) => {\r\n  //   let isActive = props.hasLinks();\r\n  //   return (\r\n  //     <EditorBtn\r\n  //       inline={props.inline}\r\n  //       isActive={isActive}\r\n  //       key={`icon-${type}`}\r\n  //       onClick={props.onClickLink}\r\n  //     >\r\n  //       <i className={`fas fa-${icon}`} />\r\n  //     </EditorBtn>\r\n  //   )\r\n  // }\r\n\r\n  return (\r\n    <EditorBtnArray inline={props.inline} style={props.style} visible={props.visible}>\r\n      <BlockButton inline={props.inline} format=\"heading-one\" icon=\"heading\" />\r\n      <BlockButton inline={props.inline} format=\"heading-two\" icon=\"heading\" />\r\n      <BlockButton inline={props.inline} format=\"heading-three\" icon=\"heading\" />\r\n      <BlockButton inline={props.inline} format=\"block-quote\" icon=\"quote-right\" />\r\n      <BlockButton inline={props.inline} format=\"numbered-list\" icon=\"list-ol\" />\r\n      <BlockButton inline={props.inline} format=\"bulleted-list\" icon=\"list-ul\" />\r\n\r\n      <MarkButton inline={props.inline} format=\"bold\" icon=\"bold\" />\r\n      <MarkButton inline={props.inline} format=\"italic\" icon=\"italic\" />\r\n      <MarkButton inline={props.inline} format=\"underline\" icon=\"underline\" />\r\n      <MarkButton inline={props.inline} format=\"red\" icon=\"palette\" />\r\n      <MarkButton inline={props.inline} format=\"blue\" icon=\"palette\" />\r\n      <MarkButton inline={props.inline} format=\"yellow\" icon=\"palette\" />\r\n      <MarkButton inline={props.inline} format=\"green\" icon=\"palette\" />\r\n      <MarkButton inline={props.inline} format=\"purple\" icon=\"palette\" />\r\n      <MarkButton inline={props.inline} format=\"strikethrough\" icon=\"strikethrough\" />\r\n      <MarkButton inline={props.inline} format=\"code\" icon=\"code\" />\r\n\r\n      {/* {renderLinkButton('link', 'link')} */}\r\n    </EditorBtnArray>\r\n  );\r\n}\r\n\r\nexport default RenderButtons;\r\n\r\nconst EditorBtnArray = styled.div`\r\n  visibility: ${props => props.visible ? 'visible' : 'hidden' };\r\n  cursor: default;\r\n  margin: 0px 0 0 0;\r\n  opacity:  ${props => props.inline ? '.4' : '1'};\r\n  padding: 10px 0 6px 6px;\r\n  padding-left: ${props => props.inline && '15px'};\r\n  padding-top: ${props => props.inline && '0px'};\r\n  position: ${props => props.inline && 'absolute'};\r\n  text-align: left;\r\n  transition: opacity .23s ease-in-out;\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n  > button > span {\r\n    font-family: 'Times New Roman', Times, serif;\r\n    font-size: .75rem;\r\n    font-weight: bold;\r\n    line-height: 0.5;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n`;\r\n\r\nconst EditorBtn = styled.button`\r\n  box-shadow: 2px 2px 1px #222;\r\n  cursor: pointer;\r\n  font-size: .75rem;\r\n  height: ${props => props.inline ? '25px' : '30px'};\r\n  margin: 0 5px 0 0;\r\n  opacity: ${props => props.active ? 1 : 0.6};\r\n  padding: 0;\r\n  width: ${props => props.inline ? '25px' : '30px'};\r\n  &:last-of-type {\r\n    margin-right: 0;\r\n  }\r\n  &:active {\r\n    box-shadow: 1px 1px 1px #222;\r\n    transform: translateY(1px);\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Element = ({ attributes, children, element }) => {\r\n  switch (element.type) {\r\n    case 'block-quote':\r\n      return (\r\n        <BlockQuote>\r\n          <blockquote {...attributes}>{children}</blockquote>\r\n        </BlockQuote>\r\n      );\r\n    case 'bulleted-list':\r\n      return <ul {...attributes}>{children}</ul>\r\n    case 'heading-one':\r\n      return <H1 {...attributes}>{children}</H1>\r\n    case 'heading-two':\r\n      return <H2 {...attributes}>{children}</H2>\r\n    case 'heading-three':\r\n      return <H3 {...attributes}>{children}</H3>\r\n    case 'list-item':\r\n      return <li {...attributes}>{children}</li>\r\n    case 'numbered-list':\r\n      return <ol {...attributes}>{children}</ol>\r\n    default:\r\n      return <P {...attributes}>{children}</P>\r\n  }\r\n};\r\n\r\nconst Leaf = ({ attributes, children, leaf }) => {\r\n  if (leaf.bold) children = <strong>{children}</strong>\r\n  if (leaf.code) children = <code style={{ background: '#ccc', color: '#222', borderRadius: '2px' }}>{children}</code>\r\n  if (leaf.italic) children = <em>{children}</em>\r\n  if (leaf.strikethrough) children = <del>{children}</del>\r\n  if (leaf.underline) children = <u>{children}</u>\r\n  if (leaf.red) children = <RedSpan>{children}</RedSpan>\r\n  if (leaf.blue) children = <BlueSpan>{children}</BlueSpan>\r\n  if (leaf.green) children = <GreenSpan>{children}</GreenSpan>\r\n  if (leaf.yellow) children = <YellowSpan>{children}</YellowSpan>\r\n  if (leaf.purple) children = <PurpleSpan>{children}</PurpleSpan>\r\n\r\n  return <span {...attributes}>{children}</span>\r\n};\r\n\r\nexport { Element, Leaf };\r\n\r\nconst BlockQuote = styled.div`\r\n  border-left: 2px solid ${props => props.theme.mainRed};\r\n  margin: 40px 0 40px 50px;\r\n  padding: 12px 50px 12px 36px;\r\n  opacity: .8;\r\n  font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;\r\n  font-size: 1.4rem;\r\n  font-style: italic;\r\n\r\n  blockquote {\r\n    text-indent: 25px;\r\n  }\r\n`;\r\n\r\nconst RedSpan = styled.span`\r\n  color: ${props => props.theme.mainRed};\r\n`;\r\n\r\nconst BlueSpan = styled.span`\r\n  color: ${props => props.theme.nBlue};\r\n`;\r\n\r\nconst GreenSpan = styled.span`\r\n  color: ${props => props.theme.nGreen};\r\n`;\r\n\r\nconst YellowSpan = styled.span`\r\n  color: ${props => props.theme.nYellow};\r\n`;\r\n\r\nconst PurpleSpan = styled.span`\r\n  color: ${props => props.theme.nPurple};\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  font-size: 34px;\r\n  font-weight: bold;\r\n  margin-top: 16px;\r\n`;\r\n\r\nconst H2 = styled.h1`\r\n  font-size: 28px;\r\n  font-weight: bold;\r\n  margin-top: 16px;\r\n`;\r\n\r\nconst H3 = styled.h1`\r\n  font-size: 22px;\r\n  font-style: italic;\r\n  font-weight: bold;\r\n  margin-top: 16px;\r\n`;\r\n\r\nconst P = styled.p`\r\n  line-height: 1.5;\r\n  text-indent: 30px;\r\n  margin: 16px 0;\r\n`;","export const initialValue = [\r\n  {\r\n    type: 'paragraph',\r\n    children: [\r\n      { text: 'This is editable ' },\r\n      { text: 'rich', bold: true },\r\n      { text: ' text, ' },\r\n      { text: 'much', italic: true },\r\n      { text: ' better than a ' },\r\n      { text: '<textarea>', code: true },\r\n      { text: '!' }\r\n    ]\r\n  },\r\n  {\r\n    type: 'paragraph',\r\n    children: [\r\n      {\r\n        text:\r\n          \"Since it's rich text, you can do things like turn a selection of text \",\r\n      },\r\n      { text: 'bold', bold: true },\r\n      {\r\n        text:\r\n          ', or add a semantically rendered block quote in the middle of the page, like this:',\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    type: 'block-quote',\r\n    children: [{ text: 'A wise quote.' }]\r\n  },\r\n  {\r\n    type: 'paragraph',\r\n    children: [{ text: 'Try it out for yourself!' }]\r\n  }\r\n];","import { useCallback, useMemo, useState } from 'react';\r\nimport isHotkey from 'is-hotkey';\r\nimport { connect } from 'react-redux';\r\nimport { Editable, withReact, Slate } from 'slate-react';\r\nimport { createEditor } from 'slate';\r\nimport { withHistory } from 'slate-history';\r\nimport styled from 'styled-components';\r\nimport { ButtonContainer, MainButton } from '../../styles/components';\r\n\r\nimport RenderButtons, { toggleMark } from '../slate/components/RenderButtons';\r\nimport { Element, Leaf } from '../slate/utils/Renderers';\r\nimport { initialValue } from '../slate/utils/value';\r\n\r\nimport { saveBlogData } from '../../redux/actions/otherActions';\r\n\r\nconst HOTKEYS = {\r\n  'mod+b': 'bold',\r\n  'mod+i': 'italic',\r\n  'mod+q': 'strikethrough',\r\n  'mod+u': 'underline'\r\n};\r\n\r\nconst Bio = props => {\r\n  const [value, setValue] = useState(props.blog && props.blog.bio ? JSON.parse(props.blog.bio) : initialValue);\r\n  const renderElement = useCallback(props => <Element {...props} />, []);\r\n  const renderLeaf = useCallback(props => <Leaf {...props} />, []);\r\n  const editor = useMemo(() => withHistory(withReact(createEditor())), []);\r\n  const [readonly, setReadonly] = useState(true);\r\n\r\n  function honKeyDown(e) {\r\n    for (const hotkey in HOTKEYS) {\r\n      if (isHotkey(hotkey, e)) {\r\n        e.preventDefault();\r\n        const mark = HOTKEYS[hotkey];\r\n        toggleMark(editor, mark);\r\n      }\r\n    }\r\n  }\r\n\r\n  function saveBio() {\r\n    props.saveBlogData({\r\n      id: props.blog.id,\r\n      bio: JSON.stringify(value)\r\n    })\r\n  }\r\n\r\n  async function saveBioAndClose() {\r\n    saveBio();\r\n    setReadonly(true);\r\n  }\r\n\r\n  function cancelBio() {\r\n    setValue(props.blog && props.blog.bio ? JSON.parse(props.blog.bio) : initialValue);\r\n    setReadonly(true);\r\n  }\r\n\r\n  function setEditable() {\r\n    if (props.admin) setReadonly(false);\r\n  }\r\n\r\n  const editorFieldStyle = {\r\n    backgroundColor: 'transparent',\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Slate editor={editor} value={value} onChange={v => setValue(v)}>\r\n        {!readonly && <RenderButtons visible />}\r\n        <Editable\r\n          style={editorFieldStyle}\r\n          renderElement={renderElement}\r\n          renderLeaf={renderLeaf}\r\n          placeholder=\"Sup, sucka...\"\r\n          readOnly={readonly}\r\n          onKeyDown={honKeyDown}\r\n          onDoubleClick={setEditable}\r\n        />\r\n      </Slate>\r\n\r\n      {!readonly && (\r\n        <ButtonContainer className=\"search-buttons\">\r\n          <MainButton color=\"nGreen\" onClick={saveBio}>Save</MainButton>\r\n          <MainButton color=\"nBlue\" onClick={saveBioAndClose}>Save &amp; Close</MainButton>\r\n          <MainButton color=\"nRed\" onClick={cancelBio}>Cancel</MainButton>\r\n        </ButtonContainer>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    blog: state.blog\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = { saveBlogData };\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Bio);\r\n\r\nconst Wrapper = styled.section`\r\n  border-bottom: 2px solid ${props => props.theme.mainRed};\r\n  border-top: 2px solid ${props => props.theme.mainRed};\r\n  color: ${props => props.theme.text}99;\r\n  font-weight: 500;\r\n  margin: 24px auto 0 auto;\r\n  padding: 0;\r\n  width: 700px;\r\n\r\n  > p {\r\n    font-size: 16px;\r\n    padding: 8px 0;\r\n    line-height: 1.3;\r\n    text-indent: 0;\r\n  }\r\n\r\n  .search-buttons {\r\n    margin-bottom: 24px;\r\n  }\r\n`;\r\n","import * as Auth from '../action-types/authTypes';\r\nimport * as Post from '../action-types/postTypes';\r\nimport * as API from '../../api';\r\n\r\nexport function getOnePost(id) {\r\n  return async dispatch => {\r\n    try {\r\n      const response = await API.post.getOne(id);\r\n      dispatch({ type: Post.SET_CURRENT_POST, payload: response.data });\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log('e in getOnePost:::', e);\r\n    }\r\n  }\r\n}\r\n\r\nexport function getOnePublicPost(id) {\r\n  return async dispatch => {\r\n    try {\r\n      const response = await API.post.getOnePublicPost(id);\r\n      dispatch({ type: Post.SET_CURRENT_POST, payload: response.data });\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log('e in getOnePublicPost:::', e);\r\n    }\r\n  }\r\n}\r\n\r\nexport function listPosts(query = {}, add) {\r\n  return async dispatch => {\r\n    try {\r\n      const response = await API.post.listPosts(query);\r\n      if (add) {\r\n        dispatch({ type: Post.ADD_MORE_POSTS, payload: response.data.posts });\r\n      } else {\r\n        dispatch({ type: Post.SET_ALL_POSTS, payload: response.data.posts });\r\n      }\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log('e in listPosts:::', e);\r\n    }\r\n  }\r\n}\r\n\r\nexport function listPublicPosts(query = {}, add) {\r\n  return async dispatch => {\r\n    try {\r\n      const response = await API.post.listPublicPosts(query);\r\n      if (add) {\r\n        dispatch({ type: Post.ADD_MORE_POSTS, payload: response.data.posts });\r\n      } else {\r\n        dispatch({ type: Post.SET_ALL_POSTS, payload: response.data.posts });\r\n      }\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log('e in listPublicPosts:::', e);\r\n    }\r\n  }\r\n}\r\n\r\nexport function savePost(data) {\r\n  return async dispatch => {\r\n    try {\r\n      let response;\r\n\r\n      if (data.id) {\r\n        response = await API.post.edit(data);\r\n        dispatch({ type: Post.EDIT_POST_IN_POSTS, payload: response.data });\r\n        dispatch({ type: Post.SET_CURRENT_POST, payload: response.data });\r\n\r\n      } else {\r\n        response = await API.post.create(data);\r\n        dispatch({ type: Post.ADD_POST_TO_POSTS, payload: response.data });\r\n      }\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log('e in savePost:::', e);\r\n    }\r\n  }\r\n}\r\n\r\nexport function saveUserTags(userId, data) {\r\n  return async dispatch => {\r\n    try {\r\n      const response = await API.user.updateUserTags(userId, data);\r\n      dispatch({ type: Auth.SET_CURRENT_USER, payload: response.data });\r\n      dispatch({ type: Post.EDIT_USER_TAGS_IN_POST, payload: data });\r\n    } catch (e) {\r\n      console.log('e in saveUserTags:::', e);\r\n    }\r\n  }\r\n}\r\n\r\nexport function destroyPost(id) {\r\n  return async dispatch => {\r\n    try {\r\n      await API.post.destroy(id);\r\n      dispatch({ type: Post.DELETE_POST, payload: id });\r\n    } catch (e) {\r\n      console.log('e in destroyPost:::', e);\r\n    }\r\n  }\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { format } from 'date-fns';\r\nimport { listPublicPosts, listPosts } from '../../redux/actions/postActions';\r\nimport { setSearchCriteria, setCount } from '../../redux/actions/otherActions';\r\nimport { getBasicSearchCriteria } from '../../utils/halp';\r\n\r\nconst Criteria = props => {\r\n  const [display, setDisplay] = useState({});\r\n\r\n  useEffect(() => {\r\n    function setInitialDisplay() {\r\n      const display = {};\r\n      const { title, tags, startDate, endDate, categoryId } = props.criteria;\r\n      if (title) display.title = `Title: ${title.substr(0, 12)}${title.length > 12 ? '...' : ''}`;\r\n      if (tags) {\r\n        const tagsArray = tags.split(',');\r\n        display.tags = tagsArray;\r\n      }\r\n      if (startDate) display.startDate = format(startDate, 'MMM dd, yyyy');\r\n      if (endDate) display.endDate = format(endDate, 'MMM dd, yyyy');\r\n      if (categoryId) {\r\n        const category = props.categories.find(cat => cat.id === parseInt(categoryId))\r\n        display.category = `Category: ${category.name}`;\r\n      }\r\n      setDisplay(display);\r\n    }\r\n    setInitialDisplay();\r\n  }, [props.criteria]);\r\n\r\n  function resetSearch() {\r\n    const criteria = getBasicSearchCriteria();\r\n    setDisplay({});\r\n    props.clearSearch();\r\n    props.search(criteria);\r\n  }\r\n\r\n  function removeCriteria(criterion) {\r\n    const criteria = { ...props.criteria };\r\n    delete criteria[criterion];\r\n    props.clearSearch(criterion);\r\n    props.setSearchCriteria(criteria);\r\n    props.search(criteria);\r\n  }\r\n\r\n  function removeTag(index) {\r\n    let tagsCopy = [...display.tags];\r\n    tagsCopy.splice(index, 1);\r\n    setDisplay({ ...display, tags: tagsCopy });\r\n    const joined = tagsCopy.join(', ');\r\n    const criteria = { ...props.criteria, tags: joined };\r\n    props.clearSearch('tags', joined);\r\n    props.setSearchCriteria(criteria);\r\n    props.search(criteria);\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      {Object.keys(display).length ? (\r\n        <div>\r\n          <button onClick={resetSearch}>reset</button>\r\n\r\n          <div>\r\n            {display.title && (\r\n              <p>\r\n                {display.title}\r\n                &nbsp;\r\n                <Remover onClick={() => removeCriteria('title')}>&times;</Remover>\r\n              </p>\r\n            )}\r\n\r\n            {display.category && (\r\n              <p>\r\n                {display.category}\r\n                &nbsp;\r\n                <Remover onClick={() => removeCriteria('categoryId')}>&times;</Remover>\r\n              </p>\r\n            )}\r\n\r\n            {display.tags && display.tags.length ? (\r\n              <p>\r\n                Tags:\r\n                &nbsp;\r\n                {display.tags.map((tag, i) => (\r\n                  <span key={`search-tag-${tag}`}>\r\n                    {tag} <Remover onClick={() => removeTag(i)}>&times;</Remover>\r\n                  </span>\r\n                ))}\r\n              </p>\r\n            ) : null}\r\n\r\n            {display.startDate && (\r\n              <p>\r\n                Start Date:\r\n                &nbsp;\r\n                {format(new Date(display.startDate), 'MMM dd, yyyy')}\r\n                &nbsp;\r\n                <Remover onClick={() => removeCriteria('startDate')}>&times;</Remover>\r\n              </p>\r\n            )}\r\n\r\n            {display.endDate && (\r\n              <p>\r\n                End Date:\r\n                &nbsp;\r\n                {format(new Date(display.endDate), 'MMM dd, yyyy')}\r\n                &nbsp;\r\n                <Remover onClick={() => removeCriteria('endDate')}>&times;</Remover>\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    count: state.count,\r\n    friend: state.user.acl && state.user.acl.includes('friend'),\r\n    criteria: state.criteria,\r\n    categories: state.categories\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {\r\n  listPosts,\r\n  listPublicPosts,\r\n  setCount,\r\n  setSearchCriteria\r\n};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Criteria);\r\n\r\nconst Wrapper = styled.div`\r\n  max-width: 700px;\r\n  margin: 16px auto;\r\n  position: relative;\r\n\r\n  > div {\r\n    display: flex;\r\n    justify-content: center;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n\r\n    > button {\r\n      background: #111;\r\n      border: 1px solid ${props => props.theme.nPurple};\r\n      border-radius: 5px;\r\n      box-shadow: 4px 4px 4px ${props => props.theme.nPurple}77;\r\n      color: ${props => props.theme.nGreen};\r\n      cursor: pointer;\r\n      font-weight: bold;\r\n      margin-right: 16px;\r\n      outline: transparent;\r\n      padding: 4px 8px;\r\n      min-width: 60px;\r\n    }\r\n    \r\n    > div {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      color: white;\r\n\r\n      > p {\r\n        margin-right: 12px;\r\n        align-self: center;\r\n        font-size: .9rem;\r\n        background-color: #222;\r\n        padding: 3px 6px;\r\n        border-radius: 3px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst Remover = styled.span`\r\n  cursor: pointer;\r\n  color: ${props => props.theme.nRed};\r\n`;\r\n","import { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { RedBlueButton } from '../../styles/components';\r\nimport styled from 'styled-components';\r\nimport { logout } from '../../redux/actions/authActions';\r\n\r\nconst Nav = props => {\r\n  const history = useHistory();\r\n  const [searchHeight, setSearchHeight] = useState('56px');\r\n  const [searchWidth, setSearchWidth] = useState(props.admin ? '460px' : '340px');\r\n  const [transition, setTransition] = useState('max-width .2s ease-in-out, height .35s ease-in-out .06s, box-shadow .2s ease-in-out .15s');\r\n  const [shadow, setShadow] = useState(false);\r\n  const [showSearch, setShowSearch] = useState(false);\r\n\r\n  function toggleSearch() {\r\n    if (showSearch) {\r\n      setTransition('max-width .2s ease-in-out .3s, height .35s ease-in-out, box-shadow .2s ease-in-out');\r\n      setSearchHeight(\"56px\");\r\n      setSearchWidth(props.admin ? '460px' : '340px');\r\n      props.setSearchProps({\r\n        opacity: '0',\r\n        transition: '.15s ease-in-out',\r\n        visibility: 'hidden'\r\n      }, 'none');\r\n      setShadow(false);\r\n      setShowSearch(false);\r\n    } else {\r\n      setTransition('max-width .2s ease-in-out, height .35s ease-in-out .15s, box-shadow .2s ease-in-out .2s');\r\n      setSearchHeight(\"420px\");\r\n      setSearchWidth(\"500px\");\r\n      props.setSearchProps({\r\n        opacity: '1',\r\n        transition: '.2s ease-in-out .28s',\r\n        visibility: 'visible'\r\n      }, 'block');\r\n      setShadow(true);\r\n      setShowSearch(true);\r\n    }\r\n  }\r\n\r\n  function goTo(route, state) {\r\n    history.push(route, state);\r\n  }\r\n\r\n  return (\r\n    <Wrapper height={searchHeight} width={searchWidth} transition={transition} shadow={shadow}>\r\n      <div className=\"nav-buttons\">\r\n        <RedBlueButton width=\"50\" height=\"26\" onClick={toggleSearch} title=\"toggle search\">\r\n          <i className=\"fas fa-search\" />\r\n        </RedBlueButton>\r\n\r\n        <RedBlueButton width=\"50\" height=\"26\" onClick={() => goTo('/sources')} title=\"news sources\">\r\n          <i className=\"fas fa-info\" />\r\n        </RedBlueButton>\r\n\r\n        {props.authenticated && (\r\n          <RedBlueButton width=\"50\" height=\"26\" onClick={() => goTo('/my-info')} title=\"update my info\">\r\n            <i className=\"fas fa-user-circle\" />\r\n          </RedBlueButton>\r\n        )}\r\n\r\n        {props.admin && (\r\n          <>\r\n            <RedBlueButton width=\"50\" height=\"26\" onClick={() => goTo('/editor')} title=\"new post\">\r\n              <i className=\"fas fa-plus\" />\r\n            </RedBlueButton>\r\n\r\n            <RedBlueButton width=\"50\" height=\"26\" onClick={() => goTo('/admin')} title=\"admin\">\r\n              <i className=\"fas fa-cog\" />\r\n            </RedBlueButton>\r\n          </>\r\n        )}\r\n        {props.authenticated\r\n          ? (\r\n            <RedBlueButton width=\"50\" height=\"26\" onClick={props.logout} title=\"logout\">\r\n              <i className=\"fas fa-sign-out-alt\" />\r\n            </RedBlueButton>\r\n          ) : (\r\n            <RedBlueButton width=\"50\" height=\"26\" onClick={() => goTo('/login')} title=\"login\">\r\n              <i className=\"fas fa-sign-in-alt\" />\r\n            </RedBlueButton>\r\n          )}\r\n      </div>\r\n\r\n      {props.children({\r\n        toggleSearch,\r\n        children: props.children\r\n      })}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    authenticated: state.auth.authenticated\r\n  }\r\n}\r\n\r\nexport default connect(mapPropsToState, { logout })(Nav);\r\n\r\nexport const Wrapper = styled.nav`\r\n  background-color: ${props => props.theme.text + '33'};\r\n  border-radius: 12px;\r\n  box-shadow: ${props => props.shadow ? '2px 2px 8px' + props.theme.text : 'none'};\r\n  height: ${props => props.height};\r\n  margin: 0 auto;\r\n  max-width:  ${props => props.width};\r\n  padding: 16px 0;\r\n  transition: ${props => props.transition};\r\n  z-index: 1;\r\n\r\n  .nav-buttons {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    z-index: 1;\r\n\r\n    > button:first-of-type {\r\n      margin-left: 0;\r\n    }\r\n\r\n    > button:last-of-type {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n`;\r\n","import { Label, Input, Select } from '../../styles/components';\r\n\r\nconst SearchForm = props => {\r\n  const { state, handleInputChange, categories } = props;\r\n\r\n  return (\r\n    <form onSubmit={(e) => props.search(null, e)}>\r\n      <div className=\"title-search\">\r\n        <Label>by Title:</Label>\r\n        <Input\r\n          full\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={state.title}\r\n          onChange={handleInputChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"tag-category-wrapper\">\r\n        <div className=\"tag-search\">\r\n          <Label>by Tags:</Label>\r\n          <Input\r\n            full\r\n            type=\"text\"\r\n            name=\"tags\"\r\n            value={state.tags}\r\n            onChange={handleInputChange}\r\n          />\r\n          <p>separate tags with commas</p>\r\n        </div>\r\n\r\n        <div className=\"category-search\">\r\n          <Label>by Category:</Label>\r\n          <Select\r\n            full\r\n            name=\"categoryId\"\r\n            onChange={handleInputChange}\r\n            value={state.categoryId}\r\n          >\r\n            <option value=\"None\">None</option>\r\n            {categories.filter(c => c.name !== 'None').map((c, i) => (\r\n              <option key={`cat-${i}`} value={c.id}>{c.name}</option>\r\n            ))}\r\n          </Select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"date-search\">\r\n        <Label>by Date:</Label>\r\n\r\n        <div className=\"date-inputs\">\r\n          <div className=\"start-date\">\r\n            <Label>start:</Label>\r\n            <Input\r\n              full\r\n              type=\"date\"\r\n              name=\"startDate\"\r\n              value={state.startDate}\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"end-date\">\r\n            <Label>end:</Label>\r\n            <Input\r\n              full\r\n              type=\"date\"\r\n              name=\"endDate\"\r\n              value={state.endDate}\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n\r\n          <input hidden type=\"submit\" />\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchForm;\r\n","import styled from 'styled-components';\r\n\r\nexport const Outer = styled.div`\r\n  width: 700px;\r\n  margin: 0 auto 30px auto;\r\n  padding: 30px 0 16px 0;\r\n`;\r\n\r\nexport const SearchWrapper = styled.div`\r\n  visibility: ${props => props.visiblity};\r\n  opacity: ${props => props.opacity};\r\n  transition: opacity ${props => props.transition};\r\n  display: ${props => props.display};\r\n  padding: 12px 40px;\r\n  z-index: 0;\r\n  margin-top: 12px;\r\n\r\n  p {\r\n    font-size: .7rem;\r\n    margin: 4px auto;\r\n    padding: 0 12px;\r\n  }\r\n\r\n  .title-search {\r\n    margin-bottom: 12px;\r\n  }\r\n\r\n  .tag-category-wrapper {\r\n    margin-bottom: 12px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    .tag-search, .category-search {\r\n      width: 48%;\r\n    }\r\n  }\r\n\r\n  .date-search {\r\n    .date-inputs {\r\n      margin-top: 4px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding: 0 12px;\r\n\r\n      .start-date, .end-date {\r\n        width: 48%;\r\n      }\r\n    }\r\n  }\r\n\r\n  .search-buttons {\r\n    display: flex;\r\n    width: 280px;\r\n    justify-content: space-between;\r\n    margin: 30px auto 0 auto;\r\n  }\r\n`;","import { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addHours } from 'date-fns';\r\nimport Criteria from './Criteria';\r\nimport Nav from './Nav';\r\nimport SearchForm from './SearchForm';\r\n\r\nimport { Outer, SearchWrapper } from './styles/navStyles';\r\nimport { MainButton } from '../../styles/components';\r\n\r\nimport { listPublicPosts, listPosts } from '../../redux/actions/postActions';\r\nimport { setSearchCriteria, setCount } from '../../redux/actions/otherActions';\r\n\r\nimport { getBasicSearchCriteria } from '../../utils/halp';\r\n\r\nconst Searchbar = props => {\r\n  const [state, setState] = useState({\r\n    categoryId: '',\r\n    tags: '',\r\n    title: '',\r\n    startDate: '',\r\n    endDate: ''\r\n  });\r\n  const [searchProps, setSearchProps] = useState({\r\n    opacity: '0',\r\n    transition: '.2s ease-in-out .3s',\r\n    visibility: 'hidden'\r\n  });\r\n\r\n  const [display, setDisplay] = useState('none');\r\n\r\n  // If I don't do it this way, i.e. toggle display between 'none' and 'block',\r\n  //  the search form, though set to { visibility: 'hidden' }\r\n  //  will cover the top post below it, and if the post is short enough,\r\n  //  the inlineEditor buttons get covered up and won't work.\r\n  // And no, z-index doesn't help - and I tried putting it everywhere.\r\n  function setDisplayProps(props, display) {\r\n    setSearchProps(props);\r\n    setTimeout(() => setDisplay(display), 350);\r\n  }\r\n\r\n  function handleInputChange({ target }) {\r\n    const { name, value } = target;\r\n    setState({ ...state, [name]: value });\r\n  }\r\n\r\n  async function search(criteria, event) {\r\n    if (event) event.preventDefault();\r\n    if (!criteria) criteria = getSearchCriteria();\r\n    props.search(criteria);\r\n  }\r\n\r\n  function getSearchCriteria() {\r\n    const search = { ...getBasicSearchCriteria() };\r\n    const { tags, title, categoryId, startDate, endDate } = state;\r\n    if (tags) search.tags = tags;\r\n    if (title) search.title = title;\r\n    if (categoryId && categoryId !== \"None\") search.categoryId = categoryId;\r\n    if (startDate || endDate) {\r\n      search.byDate = true;\r\n      const offset = new Date().getTimezoneOffset();\r\n      if (startDate) {\r\n        const start = addHours(new Date(startDate), (offset / 60));\r\n        search.startDate = start;\r\n      }\r\n      if (endDate) {\r\n        const end = addHours(new Date(endDate), (offset / 60));\r\n        search.endDate = end;\r\n      }\r\n    }\r\n    return search;\r\n  }\r\n\r\n  function clearAll() {\r\n    setState({\r\n      categoryId: '',\r\n      tags: '',\r\n      title: '',\r\n      startDate: '',\r\n      endDate: ''\r\n    });\r\n    props.setSearchCriteria(getBasicSearchCriteria());\r\n  }\r\n\r\n  function clearSearch(criterion, tags = '') {\r\n    if (!criterion) {\r\n      clearAll();\r\n    } else {\r\n      let newState = { ...state };\r\n      switch (criterion) {\r\n        case 'tags':\r\n          return newState.tags = tags;\r\n        case 'title':\r\n          return newState.title = '';\r\n        case 'startDate':\r\n          return newState.startDate = '';\r\n        case 'endDate':\r\n          return newState.endDate = '';\r\n        default:\r\n          newState.categoryId = '';\r\n      }\r\n      setState(newState);\r\n      const criteria = getSearchCriteria();\r\n      delete criteria[criterion];\r\n      props.setSearchCriteria(criteria);\r\n    }\r\n  }\r\n\r\n  function cancelSearch(toggleSearch) {\r\n    toggleSearch();\r\n    clearSearch();\r\n  }\r\n\r\n  return (\r\n    <Outer>\r\n      <Nav setSearchProps={setDisplayProps}>\r\n        {renderProps => (\r\n          <SearchWrapper {...searchProps} display={display}>\r\n            <SearchForm\r\n              state={state}\r\n              categories={props.categories}\r\n              search={search}\r\n              handleInputChange={handleInputChange}\r\n            />\r\n\r\n            <p>leave the end date blank to search from the start date until the present moment</p>\r\n            <p>leave the start date blank to search for everything prior to the end date</p>\r\n\r\n            <div className=\"search-buttons\">\r\n              {/* these are called this way to avoid passing the event to the function */}\r\n              <MainButton color=\"nGreen\" onClick={() => search()}>Search</MainButton>\r\n              <MainButton color=\"nBlue\" onClick={() => clearSearch()}>Clear</MainButton>\r\n              <MainButton color=\"nRed\" onClick={() => cancelSearch(renderProps.toggleSearch)}>Cancel</MainButton>\r\n            </div>\r\n          </SearchWrapper>\r\n        )}\r\n      </Nav>\r\n\r\n      <Criteria clearSearch={clearSearch} search={search} />\r\n    </Outer>\r\n  );\r\n};\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    friend: state.user.acl && state.user.acl.includes('friend'),\r\n    authenticated: state.auth.authenticated,\r\n    categories: state.categories\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {\r\n  listPosts,\r\n  listPublicPosts,\r\n  setCount,\r\n  setSearchCriteria,\r\n};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Searchbar);\r\n","import React, { useCallback, useMemo, useState } from 'react';\r\nimport isHotkey from 'is-hotkey';\r\nimport { Editable, withReact, Slate } from 'slate-react';\r\nimport { createEditor } from 'slate';\r\nimport { withHistory } from 'slate-history';\r\nimport { MainButton, ButtonContainer } from '../../styles/components';\r\n\r\nimport RenderButtons, { toggleMark } from './components/RenderButtons';\r\nimport { Element, Leaf } from './utils/Renderers';\r\nimport { initialValue } from './utils/value';\r\n\r\nconst HOTKEYS = {\r\n  'mod+b': 'bold',\r\n  'mod+i': 'italic',\r\n  'mod+q': 'strikethrough',\r\n  'mod+u': 'underline'\r\n};\r\n\r\nconst DisplayEditor = props => {\r\n  const [value, setValue] = useState(props.post.body ? JSON.parse(props.post.body) : initialValue);\r\n  const renderElement = useCallback(props => <Element {...props} />, []);\r\n  const renderLeaf = useCallback(props => <Leaf {...props} />, []);\r\n  const editor = useMemo(() => withHistory(withReact(createEditor())), []);\r\n  const [readOnly, setReadOnly] = useState(true);\r\n\r\n  function honKeyDown(e) {\r\n    for (const hotkey in HOTKEYS) {\r\n      if (isHotkey(hotkey, e)) {\r\n        e.preventDefault();\r\n        const mark = HOTKEYS[hotkey];\r\n        toggleMark(editor, mark);\r\n      }\r\n    }\r\n  }\r\n\r\n  function toggleEditable() {\r\n    if (props.isAdmin) {\r\n      setReadOnly(false);\r\n    }\r\n  }\r\n\r\n  async function save() {\r\n    const update = { body: JSON.stringify(value) };\r\n    if (props.post && props.post.id) update.id = props.post.id;\r\n    props.save(update);\r\n  }\r\n\r\n  async function saveAndClose() {\r\n    save();\r\n    setReadOnly(true);\r\n  }\r\n\r\n  function cancel() {\r\n    setValue(props.post.body ? JSON.parse(props.post.body) : initialValue);\r\n    setReadOnly(true);\r\n  }\r\n\r\n  const editorStyles = {\r\n    fontSize: '1.2rem',\r\n    maxHeight: '60vh',\r\n    overflowY: 'auto',\r\n    paddingRight: '12px'\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Slate editor={editor} value={value} onChange={v => setValue(v)}>\r\n        {!readOnly && <RenderButtons visible />}\r\n        <Editable\r\n          style={editorStyles}\r\n          renderElement={renderElement}\r\n          renderLeaf={renderLeaf}\r\n          readOnly={readOnly}\r\n          onKeyDown={honKeyDown}\r\n          onDoubleClick={toggleEditable}\r\n        />\r\n      </Slate>\r\n\r\n      {!readOnly && (\r\n        <ButtonContainer>\r\n          <MainButton color=\"nGreen\" onClick={save}>Save</MainButton>\r\n          <MainButton color=\"nBlue\" onClick={saveAndClose}>Save &amp; Close</MainButton>\r\n          <MainButton color=\"nRed\" onClick={cancel}>Cancel</MainButton>\r\n        </ButtonContainer>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DisplayEditor;\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapper = styled.article`\r\n  margin-bottom: 60px;\r\n`;\r\n\r\nexport const MetaData = styled.div`\r\n  position: relative;\r\n\r\n  .post-title {\r\n    font-size: 1.8rem;\r\n    font-weight: bold;\r\n    margin-bottom: 4px;\r\n  }\r\n\r\n  .post-subtitle {\r\n    font-size: .88rem;\r\n    border-bottom: 1px solid ${props => props.theme.mainGrey};\r\n    padding-bottom: 8px;\r\n    margin-bottom: 4px;\r\n    text-indent: 20px;\r\n    color: ${props => props.theme.mainRed};\r\n  }\r\n\r\n  .post-buttons {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 4px;\r\n\r\n    > button {\r\n      background-color: transparent;\r\n      border: none;\r\n      color: ${props => props.theme.text};\r\n      cursor: pointer;\r\n      margin-right: 4px;\r\n      outline: transparent;\r\n\r\n      &:hover {\r\n        color: ${props => props.theme.nBlue};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Category = styled.span`\r\n  font-size: .8rem;\r\n  color: #999;\r\n  font-style: italic;\r\n  position: absolute;\r\n  right: 5px;\r\n  bottom: 5px;\r\n`;\r\n\r\nexport const UserActions = styled.div`\r\n  position: relative;\r\n\r\n  > button {\r\n      background-color: transparent;\r\n      border: none;\r\n      color: ${props => props.theme.text};\r\n      cursor: pointer;\r\n      outline: transparent;\r\n\r\n      &:hover {\r\n        color: ${props => props.theme.nBlue};\r\n      }\r\n    }\r\n`;\r\n\r\nexport const DateWrapper = styled.div`\r\n  display: flex;\r\n  font-size: .68rem;\r\n  margin-bottom: 24px;\r\n\r\n  > h5 {\r\n    font-size: .68rem;\r\n    margin-right: 8px;\r\n    padding: 3px 0;\r\n    align-self: flex-start;\r\n\r\n    > span {\r\n      color: ${props => props.theme.mainRed};\r\n      padding-left: 8px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const TagWrapper = styled.div`\r\n  display: flex;\r\n  font-size: .68rem;\r\n  margin-top: ${props => props.userTags && '24px'};\r\n\r\n  > h4 {\r\n    padding: 3px 8px 0 3px;\r\n  }\r\n`;\r\n\r\nexport const TagInput = props => {\r\n  const { submit, userTags } = props;\r\n  return (\r\n    <TagInputForm onSubmit={submit} userTags={userTags}>\r\n      {props.children}\r\n      <input hidden type=\"submit\" />\r\n    </TagInputForm>\r\n  );\r\n};\r\n\r\nconst TagInputForm = styled.form`\r\n  position: absolute;\r\n  ${props => props.userTags ? 'left: 0; top: 24px;' : null};\r\n  ${props => props.userTags ? null : 'right: 120px; top: 0;'};\r\n  display: flex;\r\n`;\r\n\r\nexport const PostMetaEditWrapper = styled.div`\r\n  width: 500px;\r\n  > input, > div > select {\r\n    margin-bottom: 6px;\r\n  }\r\n\r\n  > div:first-of-type {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  > div:first-of-type > input,\r\n  > div:first-of-type > select {\r\n    width: 49%;\r\n  }\r\n\r\n  > div > button {\r\n    margin: 4px 6px;\r\n    margin-bottom: 12px;\r\n  }\r\n`;","import { useState } from 'react';\r\nimport { RedBlueButton, Input, Select } from '../../styles/components';\r\nimport { PostMetaEditWrapper } from './styles/postStyles';\r\n\r\nconst PostMetaEdit = props => {\r\n  const [title, setTitle] = useState(props.post.title);\r\n  const [subtitle, setSubtitle] = useState(props.post.subtitle);\r\n  const [categoryId, setCategoryId] = useState(props.post.categoryId);\r\n  const [isPublic, setIsPublic] = useState(!!props.post.public);\r\n\r\n  const { post, categories } = props;\r\n\r\n  function handleInputChange({ target }) {\r\n    const { name, value, checked } = target;\r\n    switch (name) {\r\n      case \"title\":\r\n        return setTitle(value);\r\n      case \"subtitle\":\r\n        return setSubtitle(value);\r\n      case \"isPublic\":\r\n        return setIsPublic(checked);\r\n      default:\r\n        setCategoryId(value);\r\n    }\r\n  }\r\n\r\n  function clearAll() {\r\n    setTitle('');\r\n    setSubtitle('');\r\n    setCategoryId('');\r\n  }\r\n\r\n  function save() {\r\n    const update = { id: post.id };\r\n    if (title !== post.title) update.title = title;\r\n    if (subtitle !== post.subtitle) update.subtitle = subtitle;\r\n    if (categoryId !== post.categoryId) update.categoryId = categoryId;\r\n    if (isPublic !== !!post.public) update.public = isPublic;\r\n    props.save(update);\r\n    props.close();\r\n  }\r\n\r\n  function cancelMetaEdit() {\r\n    clearAll();\r\n    props.close();\r\n  }\r\n\r\n  return (\r\n    <PostMetaEditWrapper>\r\n      <Input\r\n        full\r\n        type=\"text\"\r\n        name=\"title\"\r\n        value={title}\r\n        onChange={handleInputChange}\r\n      />\r\n\r\n      <Input\r\n        full\r\n        type=\"text\"\r\n        name=\"subtitle\"\r\n        value={subtitle}\r\n        onChange={handleInputChange}\r\n      />\r\n\r\n      <div>\r\n        <Select\r\n          name=\"category\"\r\n          onChange={handleInputChange}\r\n          value={categoryId}\r\n        >\r\n          <option value=\"None\">None</option>\r\n          {categories.filter(c => c.name !== 'None').map((c, i) => (\r\n            <option key={`cat-${i}`} value={c.id}>{c.name}</option>\r\n          ))}\r\n        </Select>\r\n\r\n        <div>\r\n          <label>public: </label>\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"isPublic\"\r\n            checked={isPublic}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ display: 'flex' }}>\r\n        <RedBlueButton text onClick={save}>\r\n          save\r\n        </RedBlueButton>\r\n        <RedBlueButton text onClick={cancelMetaEdit}>\r\n          cancel\r\n        </RedBlueButton>\r\n      </div>\r\n    </PostMetaEditWrapper>\r\n  )\r\n};\r\n\r\nexport default PostMetaEdit","import { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { format } from 'date-fns';\r\nimport InlineEditor from '../slate/InlineEditor';\r\nimport Modal from '../Modal';\r\nimport PostMetaEdit from './PostMetaEdit';\r\nimport { RedBlueButton, Input, Tags } from '../../styles/components';\r\nimport {\r\n  destroyPost,\r\n  getOnePost,\r\n  getOnePublicPost,\r\n  savePost,\r\n  saveUserTags\r\n} from '../../redux/actions/postActions';\r\n\r\nimport {\r\n  Wrapper,\r\n  MetaData,\r\n  Category,\r\n  UserActions,\r\n  DateWrapper,\r\n  TagWrapper,\r\n  TagInput\r\n} from './styles/postStyles';\r\n\r\nconst Post = props => {\r\n  const history = useHistory();\r\n  const [newTags, setNewTags] = useState('');\r\n  const [newUserTags, setNewUserTags] = useState('');\r\n  const [showTagInput, setShowTagInput] = useState(false);\r\n  const [showUserTagInput, setShowUserTagInput] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [showMetaEdit, setShowMetaEdit] = useState(false);\r\n\r\n  const {\r\n    post,\r\n    search,\r\n  } = props;\r\n\r\n  function handleInputChange({ target }) {\r\n    const { name, value } = target;\r\n    switch (name) {\r\n      case \"newTags\":\r\n        return setNewTags(value);\r\n      default:\r\n        return setNewUserTags(value);\r\n    }\r\n  }\r\n\r\n  function save(update) {\r\n    props.savePost(update);\r\n  }\r\n\r\n  function goTo(route, state) {\r\n    history.push(route, state)\r\n  }\r\n\r\n  async function openSingleEdit() {\r\n    if (props.admin) {\r\n      await props.getOnePost(post.id, true);\r\n      goTo('/editor/' + post.id, { from: history.location.pathname });\r\n    }\r\n  }\r\n\r\n  function deletePost() {\r\n    props.destroyPost(post.id);\r\n  }\r\n\r\n  function addTags() {\r\n    const tags = [...post.tags];\r\n    const toAdd = newTags.split(',');\r\n    toAdd.forEach(tag => {\r\n      tags.push(tag.trim());\r\n    });\r\n    save({ id: post.id, tags });\r\n    setShowTagInput(false);\r\n    setNewTags('');\r\n  }\r\n\r\n  function addUserTags() {\r\n    const tags = post.userTags ? [...post.userTags] : [];\r\n    const toAdd = newUserTags.split(',');\r\n    toAdd.forEach(tag => {\r\n      tags.push(tag.trim());\r\n    });\r\n    props.saveUserTags(props.user.id, { id: post.id, tags });\r\n    post.userTags = tags;\r\n    setShowUserTagInput(false);\r\n    setNewUserTags('');\r\n  }\r\n\r\n  function removeTag(index) {\r\n    const tags = [...post.tags];\r\n    tags.splice(index, 1);\r\n    save({ id: post.id, tags });\r\n  }\r\n\r\n  function removeUserTag(index) {\r\n    const tags = [...post.userTags];\r\n    tags.splice(index, 1);\r\n    props.saveUserTags(props.user.id, { id: post.id, tags });\r\n  }\r\n\r\n  function toggleTagInput() {\r\n    if (showMetaEdit) setShowMetaEdit(false);\r\n    setShowTagInput(!showTagInput);\r\n  }\r\n\r\n  function toggleUserTagInput() {\r\n    setShowUserTagInput(!showUserTagInput);\r\n  }\r\n\r\n  function closeModal() {\r\n    setShowDeleteModal(false);\r\n  }\r\n\r\n  function metaEditOpen() {\r\n    if (showTagInput) setShowTagInput(false);\r\n    setShowMetaEdit(!showMetaEdit);\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Modal\r\n        show={showDeleteModal}\r\n        close={closeModal}\r\n        callback={deletePost}\r\n        confirmText=\"Yes\"\r\n        cancelText=\"Cancel\"\r\n      >\r\n        <h4>Are you sure you want to delete this post?</h4>\r\n      </Modal>\r\n\r\n      <MetaData>\r\n        {showMetaEdit ? (\r\n          <PostMetaEdit\r\n            categories={props.categories}\r\n            post={post}\r\n            close={() => setShowMetaEdit(false)}\r\n            save={save}\r\n          />\r\n        ) : (\r\n          <>\r\n            <h2\r\n              className=\"post-title\"\r\n              onClick={() => goTo(`/${post.id}`)}\r\n              style={{ cursor: 'pointer' }}\r\n            >\r\n              {post.title}\r\n            </h2>\r\n            <h4 className=\"post-subtitle\">{post.subtitle}</h4>\r\n          </>\r\n        )}\r\n\r\n        {post.category && post.category.name !== 'None' ? <Category>Category: {post.category.name}</Category> : null}\r\n\r\n        {props.admin && (\r\n          <div className=\"post-buttons\">\r\n            <button onClick={metaEditOpen}>\r\n              <i className=\"far fa-edit\" title=\"edit title and etc\" />\r\n            </button>\r\n            <button onClick={openSingleEdit}>\r\n              <i className=\"fas fa-link\" title=\"open in editor\" />\r\n            </button>\r\n            <button onClick={() => setShowDeleteModal(true)}>\r\n              <i className=\"far fa-trash-alt\" title=\"delete this post\" />\r\n            </button>\r\n            <button onClick={toggleTagInput}>\r\n              <i className=\"fas fa-tag\" title=\"add tag\" />\r\n            </button>\r\n            {showTagInput && (\r\n              <TagInput>\r\n                <Input\r\n                  height=\"24\"\r\n                  type=\"text\"\r\n                  name=\"newTags\"\r\n                  value={newTags}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"comma-separated tags...\"\r\n                  autoFocus\r\n                />\r\n                <RedBlueButton width=\"40\" onClick={addTags}>\r\n                  <i className=\"fas fa-plus\" />\r\n                </RedBlueButton>\r\n              </TagInput>\r\n            )}\r\n          </div>\r\n        )}\r\n      </MetaData>\r\n\r\n      <DateWrapper>\r\n        <h5>{format(new Date(post.createdAt), 'MMM dd, yyyy - hh:mm aaaa')} {post.tags.length ? <span>-</span> : null}</h5>\r\n        {\r\n          post.tags.length\r\n            ? (\r\n              <TagWrapper>\r\n                <h4>Tags<span>:</span> </h4>\r\n                <Tags>\r\n                  {post.tags.map((tag, i) => (\r\n                    <span key={`tag-${i}`}>\r\n                      <span className=\"tag\" onClick={() => search({ tags: tag })}>{tag}</span>\r\n                      {props.admin && <span className=\"tag-delete\" onClick={() => removeTag(i)}>&times;</span>}\r\n                    </span>\r\n                  ))}\r\n                </Tags>\r\n              </TagWrapper>\r\n            ) : null\r\n        }\r\n      </DateWrapper>\r\n\r\n      <InlineEditor\r\n        post={post}\r\n        save={save}\r\n        isAdmin={props.admin}\r\n        edit={openSingleEdit}\r\n      />\r\n\r\n      <TagWrapper userTags>\r\n        {post.userTags && post.userTags.length\r\n          ? (\r\n            <>\r\n              <h4>My Tags<span>:</span> </h4>\r\n              <Tags>\r\n                {post.userTags.map((tag, i) => (\r\n                  <span key={`my-tag-${i}`}>\r\n                    <span className=\"tag\" onClick={() => search({ tags: tag, byUserTag: true })}>{tag}</span>\r\n                    <span className=\"tag-delete\" onClick={() => removeUserTag(i)}>&times;</span>\r\n                  </span>\r\n                ))}\r\n              </Tags>\r\n            </>\r\n          ) : null}\r\n      </TagWrapper>\r\n\r\n      {props.authenticated && (\r\n        <UserActions>\r\n          <button onClick={toggleUserTagInput}>\r\n            <i className=\"fas fa-tag\" title=\"add tags\" />\r\n          </button>\r\n\r\n          {showUserTagInput && (\r\n            <TagInput userTags submit={addUserTags}>\r\n              <Input\r\n                height=\"26\"\r\n                type=\"text\"\r\n                name=\"newUserTags\"\r\n                value={newUserTags}\r\n                onChange={handleInputChange}\r\n                placeholder=\"comma-separated tags...\"\r\n                autoFocus\r\n              />\r\n              <RedBlueButton width=\"40\" onClick={addUserTags}>\r\n                <i className=\"fas fa-plus\" />\r\n              </RedBlueButton>\r\n            </TagInput>\r\n          )}\r\n        </UserActions>\r\n      )}\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    friend: state.user.acl && state.user.acl.includes('friend'),\r\n    authenticated: state.auth.authenticated,\r\n    user: state.user,\r\n    categories: state.categories\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {\r\n  destroyPost,\r\n  getOnePost,\r\n  getOnePublicPost,\r\n  savePost,\r\n  saveUserTags\r\n};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Post);\r\n","import { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { listPublicPosts, listPosts } from '../../redux/actions/postActions';\r\nimport { setSearchCriteria, setCount } from '../../redux/actions/otherActions';\r\nimport { getBasicSearchCriteria } from '../../utils/halp';\r\n\r\nimport Post from './Post';\r\n\r\nconst Posts = props => {\r\n  const { admin, friend } = props;\r\n  const { skip, take } = props.criteria;\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      let result;\r\n      if (admin || friend) {\r\n        result = await props.listPosts(getBasicSearchCriteria());\r\n      } else {\r\n        result = await props.listPublicPosts(getBasicSearchCriteria());\r\n      }\r\n      props.setSearchCriteria(getBasicSearchCriteria());\r\n      props.setCount(result.count);\r\n    })();\r\n  }, [admin, friend]);\r\n\r\n  async function nextTenPosts() {\r\n    const plus10 = skip + 10;\r\n    if (admin || friend) {\r\n      await props.listPosts({ ...props.criteria, skip: plus10 }, true);\r\n    } else {\r\n      await props.listPublicPosts({ ...props.criteria, skip: plus10 }, true);\r\n    }\r\n    props.setSearchCriteria({ ...props.criteria, skip: plus10 });\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      {props.posts && props.posts.map((post) => {\r\n        return (\r\n          <Post\r\n            key={`post-${post.id}`}\r\n            post={post}\r\n            search={props.search}\r\n          />\r\n        )\r\n      })}\r\n      {(props.count >= (skip + take)) && <button onClick={nextTenPosts}>Load More...</button>}\r\n    </Wrapper >\r\n  )\r\n};\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    count: state.count,\r\n    friend: state.user.acl && state.user.acl.includes('friend'),\r\n    posts: state.posts,\r\n    criteria: state.criteria\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {\r\n  listPosts,\r\n  listPublicPosts,\r\n  setCount,\r\n  setSearchCriteria\r\n};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Posts);\r\n\r\nconst Wrapper = styled.main`\r\n  width: 700px;\r\n  margin: auto;\r\n  padding: 20px 0;\r\n`;\r\n","import { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\n\r\nimport Bio from '../components/main/Bio';\r\nimport Searchbar from '../components/main/Searchbar';\r\nimport Posts from '../components/main/Posts';\r\n\r\nimport { listPublicPosts, listPosts } from '../redux/actions/postActions';\r\nimport { setCount, setSearchCriteria } from '../redux/actions/otherActions';\r\nimport { getBasicSearchCriteria } from '../utils/halp';\r\n\r\nconst Main = (props) => {\r\n  const [showScrollButton, setShowScrollButton] = useState(false);\r\n  const [showModeButtons, setShowModeButtons] = useState(true);\r\n  const [transition, setTransition] = useState('opacity .3s ease-in-out');\r\n\r\n  useEffect(() => {\r\n    let scrollBtnVisible = false;\r\n    let modeBtnsVisible = true;\r\n    const listener = () => {\r\n      if (window.scrollY > 300) {\r\n        if (!scrollBtnVisible) {\r\n          setShowScrollButton(true);\r\n          setTransition('opacity .3s ease-in-out');\r\n          scrollBtnVisible = true;\r\n        }\r\n        if (modeBtnsVisible) {\r\n          setShowModeButtons(false);\r\n          modeBtnsVisible = false;\r\n        }\r\n      } else if (window.scrollY <= 300) {\r\n        if (scrollBtnVisible) {\r\n          setShowScrollButton(false);\r\n          setTransition('opacity .3s ease-in-out, visibility .5s ease-in-out .3s');\r\n          scrollBtnVisible = false;\r\n        }\r\n        if (!modeBtnsVisible) {\r\n          setShowModeButtons(true);\r\n          modeBtnsVisible = true;\r\n        }\r\n      }\r\n    }\r\n    window.addEventListener('scroll', listener);\r\n\r\n    return () => window.removeEventListener('scroll', listener);\r\n  }, []);\r\n\r\n  async function search(criteria) {\r\n    const search = { ...getBasicSearchCriteria(), ...criteria };\r\n    props.setSearchCriteria(search);\r\n    let result;\r\n    if (props.admin || props.friend) {\r\n      result = await props.listPosts(search);\r\n    } else {\r\n      result = await props.listPublicPosts(search);\r\n    }\r\n    props.setCount(result.count);\r\n  }\r\n\r\n  function scrollToTop() {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth'\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PageWrapper>\r\n      {showModeButtons && (\r\n        <Modebuttons night={props.mode === 'night'}>\r\n          {props.mode === 'bright' && (\r\n            <button onClick={() => props.toggleMode('night')}>\r\n              <i className=\"fas fa-moon\" />\r\n            </button>\r\n          )}\r\n          {props.mode === 'night' && (\r\n            <button onClick={() => props.toggleMode('bright')}>\r\n              <i className=\"fas fa-sun\" />\r\n            </button>\r\n          )}\r\n        </Modebuttons>\r\n      )}\r\n      <Header>\r\n        <h1>{props.blog.title}</h1>\r\n        <p>{props.blog.subtitle}</p>\r\n      </Header>\r\n\r\n      <Bio />\r\n\r\n      <Searchbar search={search} />\r\n\r\n      <Posts search={search} />\r\n\r\n      <ToTop onClick={scrollToTop} show={showScrollButton} transition={transition}>\r\n        <i className=\"fas fa-arrow-circle-up\" />\r\n      </ToTop>\r\n    </PageWrapper>\r\n  )\r\n}\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    blog: state.blog,\r\n    friend: state.user.acl && state.user.acl.includes('friend')\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {\r\n  listPublicPosts,\r\n  listPosts,\r\n  setCount,\r\n  setSearchCriteria\r\n};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Main);\r\n\r\nconst PageWrapper = styled.div`\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst Header = styled.header`\r\n  margin: auto;\r\n  width: 760px;\r\n\r\n  > h1 {\r\n    font-size: 3rem;\r\n    font-weight: 900;\r\n    line-height: 1.8;\r\n  }\r\n\r\n  > p {\r\n    font-size: 1.35rem;\r\n    text-indent: 10px;\r\n    color: ${props => props.theme.mainRed};\r\n  }\r\n`;\r\n\r\nconst ToTop = styled.button`\r\n  background: transparent;\r\n  outline: transparent;\r\n  border: none;\r\n  color: ${props => props.theme.nBlue};\r\n  cursor: pointer;\r\n  font-size: 30px;\r\n  position: fixed;\r\n  bottom: 18px;\r\n  right: 18px;\r\n  visibility: ${props => props.show ? 'visible' : 'hidden'};\r\n  opacity: ${props => props.show ? '1' : '0'};\r\n  transition: ${props => props.transition};\r\n`;\r\n\r\nconst Modebuttons = styled.div`\r\n  position: fixed;\r\n  top: 10px;\r\n  right: 5px;\r\n\r\n  > button {\r\n    background-color: transparent;\r\n    outline: transparent;\r\n    border: none;\r\n    color: ${props => props.night ? props.theme.nOrange : props.theme.nBlue};\r\n    font-size: 1.3rem;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import React, { useCallback, useMemo, useState } from 'react';\r\nimport isHotkey from 'is-hotkey';\r\nimport { Editable, withReact, Slate } from 'slate-react';\r\nimport { createEditor } from 'slate';\r\nimport { withHistory } from 'slate-history';\r\nimport styled from 'styled-components';\r\nimport { ButtonContainer, MainButton } from '../../styles/components';\r\n\r\nimport RenderButtons, { toggleMark } from './components/RenderButtons';\r\nimport { Element, Leaf } from './utils/Renderers';\r\nimport { initialValue } from './utils/value';\r\n\r\nconst HOTKEYS = {\r\n  'mod+b': 'bold',\r\n  'mod+i': 'italic',\r\n  'mod+q': 'strikethrough',\r\n  'mod+u': 'underline'\r\n};\r\n\r\nconst PostEditor = props => {\r\n  const [value, setValue] = useState(props.post && props.post.body ? JSON.parse(props.post.body) : initialValue);\r\n  const renderElement = useCallback(props => <Element {...props} />, []);\r\n  const renderLeaf = useCallback(props => <Leaf {...props} />, []);\r\n  const editor = useMemo(() => withHistory(withReact(createEditor())), []);\r\n\r\n  function honKeyDown(e) {\r\n    for (const hotkey in HOTKEYS) {\r\n      if (isHotkey(hotkey, e)) {\r\n        e.preventDefault();\r\n        const mark = HOTKEYS[hotkey];\r\n        toggleMark(editor, mark);\r\n      }\r\n    }\r\n  }\r\n\r\n  function save(saveAndClose) {\r\n    return props.save(JSON.stringify(value), saveAndClose);\r\n  }\r\n\r\n  function cancel() {\r\n    props.cancel();\r\n  }\r\n\r\n  async function saveAndClose() {\r\n    await save(true);\r\n    cancel();\r\n  }\r\n\r\n  const editorFieldStyle = {\r\n    backgroundColor: 'white',\r\n    boxShadow: '4px 4px 8px #222',\r\n    padding: '80px 120px',\r\n    fontSize: '18px',\r\n    color: 'black',\r\n    maxHeight: '60vh',\r\n    overflowY: 'scroll'\r\n  };\r\n\r\n  return (\r\n    <EditorWrapper>\r\n      <Slate editor={editor} value={value} onChange={v => setValue(v)}>\r\n        <RenderButtons visible />\r\n        <Editable\r\n          style={editorFieldStyle}\r\n          renderElement={renderElement}\r\n          renderLeaf={renderLeaf}\r\n          placeholder=\"Sup, sucka...\"\r\n          autoFocus\r\n          onKeyDown={honKeyDown}\r\n        />\r\n      </Slate>\r\n\r\n      {!props.readOnly && (\r\n        <ButtonContainer>\r\n          <MainButton color=\"nGreen\" onClick={() => save()}>Save</MainButton>\r\n          <MainButton color=\"nBlue\" onClick={saveAndClose}>Save &amp; Close</MainButton>\r\n          <MainButton color=\"nRed\" onClick={cancel}>Cancel</MainButton>\r\n        </ButtonContainer>\r\n      )}\r\n    </EditorWrapper>\r\n  )\r\n}\r\n\r\nexport default PostEditor;\r\n\r\nconst EditorWrapper = styled.div`\r\n  margin: auto;\r\n  padding-top: 40px;\r\n  width: 900px;\r\n`;\r\n","import { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport Editor from '../components/slate/Editor';\r\nimport Navbar from '../components/Navbar';\r\nimport { Spinner, SpinnerWrap } from '../styles/Elements';\r\nimport {\r\n  RedBlueButton,\r\n  Label,\r\n  Input,\r\n  Select,\r\n  Tags\r\n} from '../styles/components';\r\n\r\nimport { getOnePost, savePost } from '../redux/actions/postActions';\r\n\r\nconst FullPageEditor = props => {\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [title, setTitle] = useState('');\r\n  const [subtitle, setSubtitle] = useState('');\r\n  const [categoryId, setCategoryId] = useState('');\r\n  const [tags, setTags] = useState([]);\r\n  const [post, setPost] = useState(null);\r\n  const [isPublic, setIsPublic] = useState(false);\r\n\r\n  const [showTagInput, setShowTagInput] = useState(false);\r\n  const [tagsToAdd, setTagsToAdd] = useState('');\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      let post = {\r\n        title: '',\r\n        subtitle: '',\r\n        tags: [],\r\n        categoryId: ''\r\n      };\r\n      if (props.match.params.id) {\r\n        post = await props.getOnePost(props.match.params.id);\r\n      }\r\n      setLocalVariables(post);\r\n      setLoading(false);\r\n    })();\r\n  }, []);\r\n\r\n  function setLocalVariables(data) {\r\n    setPost(data);\r\n    setTitle(data.title);\r\n    setSubtitle(data.subtitle);\r\n    setTags(data.tags);\r\n    setCategoryId(data.categoryId);\r\n    setIsPublic(!!data.public);\r\n  }\r\n\r\n  function handleInputChange({ target }) {\r\n    const { name, value, checked } = target;\r\n    if (name === 'categoryId') setCategoryId(value);\r\n    if (name === 'tagsToAdd') setTagsToAdd(value);\r\n    if (name === 'title') setTitle(value);\r\n    if (name === 'subtitle') setSubtitle(value);\r\n    if (name === 'isPublic') setIsPublic(checked);\r\n  }\r\n\r\n  function deleteTag(index) {\r\n    const copy = [...tags];\r\n    copy.splice(index, 1);\r\n    setTags(copy);\r\n  }\r\n\r\n  function addNewTags() {\r\n    const toAdd = tagsToAdd.split(',');\r\n    setTags([...tags, ...toAdd]);\r\n    setTagsToAdd('')\r\n    setShowTagInput(false)\r\n  }\r\n\r\n  async function save(bodyText, saveAndClose) {\r\n    setSaving(true);\r\n    const none = props.categories.find(cat => cat.name === 'None');\r\n    const update = {\r\n      tags,\r\n      categoryId: categoryId ? categoryId : none.id,\r\n      title,\r\n      subtitle,\r\n      public: isPublic\r\n    };\r\n    if (post.id) update.id = post.id;\r\n    if (bodyText) update.body = bodyText;\r\n    const savedPost = await props.savePost(update, true);\r\n    if (!saveAndClose) {\r\n      setLocalVariables(savedPost);\r\n      setTimeout(() => setSaving(false), 1200);\r\n    }\r\n  }\r\n\r\n  function cancel() {\r\n    const { state } = history.location;\r\n    if (state && state.from) {\r\n      history.push(state.from);\r\n    } else {\r\n      history.push('/');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      {saving && (\r\n        <SpinnerWrap>\r\n          <Spinner size=\"120\" border=\"10\" style={{ zIndex: '999' }} />\r\n        </SpinnerWrap>\r\n      )}\r\n\r\n      <Navbar />\r\n\r\n      {!loading && (\r\n        <Main>\r\n          <YeOldeInputs>\r\n            <div>\r\n              <div>\r\n                <Label htmlFor=\"title-edit\">Title:</Label>\r\n                <Input\r\n                  full\r\n                  id=\"title-edit\"\r\n                  type=\"text\"\r\n                  name=\"title\"\r\n                  value={title}\r\n                  onChange={handleInputChange}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"subtitle-edit\">Subtitle:</Label>\r\n                <Input\r\n                  full\r\n                  id=\"subtitle-edit\"\r\n                  type=\"text\"\r\n                  name=\"subtitle\"\r\n                  value={subtitle}\r\n                  onChange={handleInputChange}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <div>\r\n                <Label htmlFor=\"category-select\">Category:</Label>\r\n                <Select\r\n                  full\r\n                  name=\"categoryId\"\r\n                  id=\"category-select\"\r\n                  value={categoryId}\r\n                  onChange={handleInputChange}\r\n                >\r\n                  {props.categories.map((c, i) => {\r\n                    return <option value={c.id} key={`category-${i}`}>{c.name}</option>\r\n                  })}\r\n                </Select>\r\n              </div>\r\n\r\n              <div>\r\n                <label>public: </label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"isPublic\"\r\n                  checked={isPublic}\r\n                  onChange={handleInputChange}\r\n                />\r\n              </div>\r\n            </div>\r\n          </YeOldeInputs>\r\n\r\n          <YeOldeTagInputs>\r\n            <div>\r\n              <TagWrapper>\r\n                <h4>Tags<span>:</span>&nbsp;\r\n                  <AddTag onClick={() => setShowTagInput(!showTagInput)} red={showTagInput}>\r\n                    {showTagInput ? '-' : '+'}\r\n                  </AddTag>\r\n                </h4>\r\n                <Tags>\r\n                  {tags.map((tag, i) => (\r\n                    <span key={`tag-${i}`}>\r\n                      <span className=\"tag\">{tag}</span>\r\n                      {props.admin && <span onClick={() => deleteTag(i)}>&times;</span>}\r\n                    </span>\r\n                  ))}\r\n                </Tags>\r\n              </TagWrapper>\r\n            </div>\r\n\r\n            {showTagInput\r\n              ? (\r\n                <div className=\"tag-input-wrapper\">\r\n                  <Input height=\"26\" name=\"tagsToAdd\" value={tagsToAdd} type=\"text\" onChange={handleInputChange} />\r\n                  <RedBlueButton onClick={addNewTags}>add</RedBlueButton>\r\n                  <RedBlueButton onClick={() => setShowTagInput(false)}>cancel</RedBlueButton>\r\n                </div>\r\n              ) : null}\r\n          </YeOldeTagInputs>\r\n\r\n          <Editor post={post} save={save} cancel={cancel} />\r\n        </Main>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    categories: state.categories\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  getOnePost,\r\n  savePost\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FullPageEditor);\r\n\r\nexport const Wrapper = styled.div`\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst Main = styled.main`\r\n  width: 900px;\r\n  margin: auto;\r\n  padding-bottom: 50px;\r\n`;\r\n\r\nconst YeOldeInputs = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n\r\n  > div {\r\n    display: flex;\r\n    width: 100%;\r\n\r\n    > div {\r\n      margin: auto;\r\n      width: 48%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst YeOldeTagInputs = styled.div`\r\n  width: 800px;\r\n  margin: auto;\r\n  display: flex;\r\n  position: relative;\r\n\r\n  .tag-input-wrapper {\r\n    position: absolute;\r\n    top: 40px;\r\n    width: 360px;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    > input {\r\n      margin-bottom: 0;\r\n    }\r\n\r\n    > button {\r\n      margin: 0 4px;\r\n      padding: 4px 8px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst AddTag = styled.span`\r\n  color: ${props => props.red ? 'red' : 'green'};\r\n  cursor: pointer;\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n`;\r\n\r\nconst TagWrapper = styled.div`\r\n  display: flex;\r\n  font-size: .68rem;\r\n  margin: 12px 0 6px 0;\r\n\r\n  > h4 {\r\n    font-size: 16px;\r\n    padding: 3px 8px;\r\n  }\r\n`;","import { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Editable, withReact, Slate } from 'slate-react';\r\nimport { createEditor } from 'slate';\r\nimport { withHistory } from 'slate-history';\r\nimport styled from 'styled-components';\r\nimport { format } from 'date-fns';\r\n\r\nimport { getOnePost, getOnePublicPost } from '../redux/actions/postActions';\r\n\r\nimport { Element, Leaf } from '../components/slate/utils/Renderers';\r\nimport { initialValue } from '../components/slate/utils/value';\r\nimport { Spinner, SpinnerWrap } from '../styles/Elements';\r\n\r\nconst SinglePost = props => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [post, setPost] = useState(null);\r\n  const [value, setValue] = useState(initialValue);\r\n  const renderElement = useCallback(props => <Element {...props} />, []);\r\n  const renderLeaf = useCallback(props => <Leaf {...props} />, []);\r\n  const editor = useMemo(() => withHistory(withReact(createEditor())), []);\r\n  const [buttonStyles, setButtonStyles] = useState({ opacity: '.1' });\r\n\r\n  const { admin, friend, match } = props;\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      let result;\r\n      if (admin || friend) {\r\n        result = await props.getOnePost(match.params.id)\r\n      } else {\r\n        result = await props.getOnePublicPost(match.params.id);\r\n      }\r\n      setValue(JSON.parse(result.body));\r\n      setPost(result);\r\n      setTimeout(() => setLoading(false), 1000);\r\n    })();\r\n  }, [admin, friend]);\r\n\r\n  function print() {\r\n    window.print();\r\n    hideButtons();\r\n  }\r\n\r\n  function showButtons() {\r\n    setButtonStyles({ opacity: '1' });\r\n  }\r\n\r\n  function hideButtons() {\r\n    setButtonStyles({ opacity: '.1' });\r\n  }\r\n\r\n  const editorFieldStyle = {\r\n    backgroundColor: 'white',\r\n    padding: '40px 80px',\r\n    fontSize: '16px',\r\n    color: 'black',\r\n    fontFamily: '\\'Times New Roman\\', Times, serif'\r\n  };\r\n\r\n  return (\r\n    loading\r\n      ? (\r\n        <SpinnerWrap background=\"linear-gradient(black, 88%, #e22c5a)\">\r\n          <Spinner size=\"120\" border=\"10\" />\r\n        </SpinnerWrap>\r\n      ) : (\r\n        <Wrapper>\r\n          <PrintNav\r\n            className=\"do-not-print\"\r\n            onMouseOver={showButtons}\r\n            onMouseLeave={hideButtons}\r\n            style={buttonStyles}\r\n          >\r\n            <button className=\"do-not-print\" onClick={print} title=\"save as PDF\">\r\n              <i className=\"fas fa-print\" />\r\n            </button>\r\n\r\n            <button className=\"do-not-print\" onClick={() => props.history.push('/')} title=\"to Main page\">\r\n              <i className=\"fas fa-arrow-left\" />\r\n            </button>\r\n          </PrintNav>\r\n\r\n          <Container>\r\n            <h2>{post.title}</h2>\r\n            <h4>{post.subtitle}</h4>\r\n            <p>{format(new Date(post.createdAt), 'MMM dd, yyyy - hh:mm aaaa ')}</p>\r\n\r\n            <Slate editor={editor} value={value} onChange={v => setValue(v)}>\r\n              <Editable\r\n                style={editorFieldStyle}\r\n                renderElement={renderElement}\r\n                renderLeaf={renderLeaf}\r\n                placeholder=\"Sup, sucka...\"\r\n                autoFocus\r\n                readOnly\r\n              />\r\n            </Slate>\r\n          </Container>\r\n        </Wrapper>\r\n      )\r\n  )\r\n}\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    friend: state.user.acl && state.user.acl.includes('friend')\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = {\r\n  getOnePost,\r\n  getOnePublicPost\r\n};\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(SinglePost);\r\n\r\nconst Wrapper = styled.div`\r\n  min-height: 100vh;\r\n  background-color: white;\r\n  color: black;\r\n  @media print {\r\n    .do-not-print {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  padding: 130px 0 50px 0;\r\n  width: 900px;\r\n  margin: auto;\r\n\r\n  > h2 {\r\n    font-size: 48px;\r\n    font-family: 'Times New Roman', Times, serif;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    margin-bottom: 6px;\r\n  }\r\n\r\n  > h4 {\r\n    font-size: 20px;\r\n    font-weight: 300;\r\n    text-align: center;\r\n    margin: 0 80px 6px 80px;\r\n    padding-bottom: 2px;\r\n    /* border-bottom: 1px solid black; */\r\n  }\r\n\r\n  > p {\r\n    font-size: 12px;\r\n    font-weight: 300;\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nconst PrintNav = styled.div`\r\n  height: 80px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  transition: opacity .2s ease-in-out;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n\r\n  > button {\r\n    margin: 0 32px;\r\n    background-color: transparent;\r\n    /* border: 1px solid #777; */\r\n    border: none;\r\n    border-radius: 50%;\r\n    box-shadow: 0 0 12px ${props => props.theme.mainRed};\r\n    border-radius: 50%;\r\n    color: ${props => props.theme.blue};\r\n    outline: transparent;\r\n    padding: 12px;\r\n    font-size: 1.2rem;\r\n    cursor: pointer;\r\n    height: 48px;\r\n    width: 48px;\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nconst SourceCard = props => {\r\n  const { source } = props;\r\n\r\n  let urlText = source.url.split('//')[1];\r\n  if (source.url.includes('www.')) {\r\n    urlText = source.url.split('www.')[1];\r\n  }\r\n\r\n  return (\r\n    <Card category={source.category.toLowerCase()}>\r\n      <h3>{source.name}</h3>\r\n      <p><a href={`https://${source.url}`} target=\"_blank\" rel=\"noopener noreferrer nofollow\">{urlText}</a></p>\r\n\r\n      <div className=\"source-facts\">\r\n        <p className=\"source-bias\">Bias: <span>{source.bias.split('_').join(' ')}</span></p>\r\n        <p>Credibility: <span>{source.credibility.split('_').join(' ')}</span></p>\r\n        <p>Factual Reporting: <span>{source.factualReporting.split('_').join(' ')}</span></p>\r\n      </div>\r\n\r\n      <p>source: <a href={`https://${source.factCheckUrl}`} target=\"_blank\" rel=\"noopener noreferrer nofollow\">mediabiasfactcheck.com</a></p>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default SourceCard;\r\n\r\nconst Card = styled.div`\r\n  border: 2px solid #777;\r\n  border-radius: 9px;\r\n  width: 280px;\r\n  height: 200px;\r\n  margin: 10px;\r\n  padding: 16px;\r\n  box-shadow: 0 0 4px #aaa, 0 0 10px #88888899;\r\n  \r\n  a {\r\n    color: ${props => props.theme.nBlue};\r\n  }\r\n\r\n  > p {\r\n    margin-bottom: 16px;\r\n\r\n    &:first-of-type {\r\n      /* border-bottom: none; */\r\n      text-indent: 6px;\r\n    }\r\n\r\n    &:last-of-type {\r\n      font-size: .8rem;\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  > h3 {\r\n    width: 100%;\r\n    font-size: 1.2rem;\r\n    margin-bottom: 4px;\r\n    padding-bottom: 2px;\r\n    border-bottom: 1px solid ${props => props.theme.mainRed};\r\n  }\r\n\r\n\r\n\r\n  > .source-facts {\r\n      margin-bottom: 12px;\r\n\r\n    > p {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      width: 100%;\r\n      margin: 4px 0 2px 0;\r\n      padding: 4px 0;\r\n      border-bottom: 1px solid grey;\r\n      font-size: .9rem;\r\n\r\n      > span {\r\n        padding: 2px 4px;\r\n        border-radius: 2px;\r\n        background-color: #555;\r\n      }\r\n    }\r\n\r\n    .source-bias {\r\n\r\n      > span {\r\n        padding: 2px 4px;\r\n        border-radius: 2px;\r\n        background: ${props => {\r\n    if (props.category === 'neutral') return props.theme.nPurple;\r\n    if (props.category === 'conservative') return props.theme.nRed;\r\n    if (props.category === 'liberal') return props.theme.nBlue;\r\n  }};\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { useEffect } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\n\r\nimport SourceCard from \"../components/sources/SourceCard\";\r\nimport Navbar from \"../components/Navbar\";\r\n\r\nimport { listSources } from '../redux/actions/sourceActions';\r\n\r\nconst Sources = props => {\r\n  useEffect(() => {\r\n    (async function () {\r\n      await props.listSources();\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Navbar />\r\n\r\n      <Main>\r\n        <h1>Not Necessarily The News</h1>\r\n\r\n        <p>These are the sources I generally use to research any news issue I want to know more about. I want as unbiased reporting as I can get, but I like to know what spin is going around, too.</p>\r\n\r\n        <p>The Conservative section is the result of my best effort to find Conservative news sources that Conservatives read and trust; likewise for Liberal sources, but my existing biases made that relatively easy. I initially wanted to only include sources that are ranked high in both Credibility and Factual Reporting, but I had some difficulty finding more than a handful, especially for Conservative sources. Take that as you will - I admit I leaned heavily on <a href=\"https://mediabiasfactcheck.com/\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">mediabiasfactcheck.com</a> for these rankings.  I may refine this list over time as I get a better feel for the veracity of these sources.</p>\r\n\r\n        {props.sources && props.sources.length ? (\r\n          <SourceTable color=\"nPurple\">\r\n            <h2>\"Neutral\" Sources</h2>\r\n            {props.sources.filter(source => source.category === 'Neutral').map(source => {\r\n              return (\r\n                <SourceCard source={source} key={`source-${source.id}`} />\r\n              )\r\n            })}\r\n          </SourceTable>\r\n        ) : null}\r\n\r\n        {props.sources && props.sources.length ? (\r\n          <SourceTable color=\"nBlue\">\r\n            <h2>Liberal Sources</h2>\r\n            {props.sources.filter(source => source.category === 'Liberal').map(source => {\r\n              return (\r\n                <SourceCard source={source} key={`source-${source.id}`} />\r\n              )\r\n            })}\r\n          </SourceTable>\r\n        ) : null}\r\n\r\n        {props.sources && props.sources.length ? (\r\n          <SourceTable color=\"nRed\">\r\n            <h2>Conservative Sources</h2>\r\n            {props.sources.filter(source => source.category === 'Conservative').map(source => {\r\n              return (\r\n                <SourceCard source={source} key={`source-${source.id}`} />\r\n              )\r\n            })}\r\n          </SourceTable>\r\n        ) : null}\r\n      </Main>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nfunction mapPropsToState(state) {\r\n  return {\r\n    admin: state.user.acl && state.user.acl.includes('admin'),\r\n    blog: state.blog,\r\n    sources: state.sources\r\n  }\r\n}\r\n\r\nconst mapDispatchToState = { listSources };\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Sources);\r\n\r\nconst Wrapper = styled.div`\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst Main = styled.main`\r\n  width: 904px;\r\n  margin: auto;\r\n\r\n  > h1 {\r\n    font-size: 3rem;\r\n    font-family: monospace;\r\n    text-align: center;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  > p {\r\n    font-size: 1rem;\r\n    line-height: 1.5;\r\n    font-style: italic;\r\n    width: 560px;\r\n    margin: 16px auto;\r\n\r\n    > a {\r\n      color: ${props => props.theme.nBlue};\r\n    }\r\n  }\r\n`;\r\n\r\nconst SourceTable = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  width: 904px;\r\n  margin: 48px auto;\r\n\r\n  > h2 {\r\n    width: 100%;\r\n    padding: 12px 0;\r\n    font-size: 2rem;\r\n    text-align: center;\r\n    font-weight: 500;\r\n    margin: 0 0 12px 0;\r\n    border: 1px solid ${props => props.theme[props.color]};\r\n    color: ${props => props.theme[props.color]};\r\n    border-radius: 5px;\r\n    box-shadow: 4px 4px 4px ${props => props.theme[props.color]}77,\r\n      4px 8px 8px ${props => props.theme[props.color]}77;\r\n    border-top-left-radius: 100px;\r\n    border-top-right-radius: 100px;\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst WuhTuhFuh = (WrappedComponent, passedProps = {}) => {\r\n  function Authentication(props) {\r\n    const [redirect, setRedirect] = useState(false);\r\n    const [destination, setDestination] = useState('');\r\n\r\n    useEffect(() => {\r\n      function checkAuthenticated() {\r\n        const { adminRequired, admin, required, authenticated } = passedProps;\r\n\r\n        if (adminRequired && !admin) {\r\n          setRedirect(true);\r\n          setDestination('/');\r\n        }\r\n\r\n        if (required && !authenticated) {\r\n          setRedirect(true);\r\n          setDestination('/login');\r\n        }\r\n\r\n        if (!required && authenticated) {\r\n          setRedirect(true);\r\n          setDestination('/');\r\n        }\r\n      }\r\n\r\n      checkAuthenticated();\r\n    }, []);\r\n\r\n    if (redirect)\r\n      return <Redirect to={destination} />\r\n\r\n    return <WrappedComponent {...props} {...passedProps} />\r\n  }\r\n\r\n  return Authentication;\r\n}\r\n\r\nexport default WuhTuhFuh;","import { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport { Themes, GlobalStyle } from \"./styles\";\nimport { ThemeProvider } from 'styled-components';\n\nimport Account from './pages/Account';\nimport Admin from './pages/Admin';\nimport Authoritaw from './pages/Authoritaw';\nimport Main from './pages/Main';\nimport PostEditor from './pages/PostEditor';\nimport SinglePost from './pages/SinglePost';\nimport Sources from './pages/Sources';\n\nimport Authentication from './utils/Authentication';\nimport { Spinner, SpinnerWrap } from './styles/Elements';\n\nimport { setAuthToken, resetAuthToken } from './utils/token';\nimport { getCurrentUser } from './redux/actions/authActions';\nimport { getBlogData } from './redux/actions/otherActions';\nimport { getCategories } from './redux/actions/categoryActions';\n\nfunction App(props) {\n  const [loading, setLoading] = useState(true);\n  const [mode, setMode] = useState(Themes.nightmode);\n  const [currentTheme, setCurrentTheme] = useState('night');\n\n  const { getBlog, getUser } = props;\n\n  useEffect(() => {\n    (async function () {\n      const token = localStorage.getItem('token');\n      const theme = localStorage.getItem('theme');\n      try {\n        if (token) {\n          setAuthToken(token);\n          await getUser();\n        }\n        if (!theme || theme === 'night') {\n          setMode(Themes.nightmode);\n          setCurrentTheme('night');\n        } else {\n          setMode(Themes.brightmode);\n          setCurrentTheme('bright');\n        }\n      } catch (e) {\n        if (token) resetAuthToken();\n      } finally {\n        await getBlog();\n        setTimeout(() => setLoading(false), 1000);\n      }\n    })();\n  }, [getUser, getBlog]);\n\n  function toggleMode(theme) {\n    if (theme === 'night') {\n      setMode(Themes.nightmode);\n    } else {\n      setMode(Themes.brightmode);\n    }\n    setCurrentTheme(theme);\n    localStorage.setItem('theme', theme)\n  }\n\n  return (\n    loading\n      ? (\n        <ThemeProvider theme={mode}>\n          <GlobalStyle />\n          <SpinnerWrap background=\"linear-gradient(black, 88%, #e22c5a)\">\n            <Spinner size=\"120\" border=\"10\" />\n          </SpinnerWrap>\n        </ThemeProvider>\n      ) : (\n        <ThemeProvider theme={mode}>\n          <GlobalStyle />\n          <Router>\n            <Switch>\n              <Route exact path=\"/\">\n                {routeProps => (\n                  <Main {...routeProps} toggleMode={toggleMode} mode={currentTheme} />\n                )}\n              </Route>\n\n              <Route\n                exact\n                path=\"/login\"\n                component={Authentication(Authoritaw, { required: false, authenticated: props.authenticated })}\n              />\n\n              <Route\n                exact\n                path=\"/editor\"\n                component={Authentication(PostEditor, { adminRequired: true, admin: props.admin })}\n              />\n\n              <Route\n                exact\n                path=\"/editor/:id\"\n                component={Authentication(PostEditor, { adminRequired: true, admin: props.admin })}\n              />\n\n              <Route\n                exact\n                path=\"/admin\"\n                component={Authentication(Admin, { adminRequired: true, admin: props.admin })}\n              />\n\n              <Route\n                exact\n                path=\"/sources\"\n                component={Sources}\n              />\n\n              <Route\n                exact\n                path=\"/my-info\"\n                component={Authentication(Account, { required: true, authenticated: props.authenticated })}\n              />\n\n              <Route\n                exact\n                path=\"/:id\"\n                component={SinglePost}\n              />\n            </Switch>\n          </Router>\n        </ThemeProvider>\n      )\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    authenticated: state.auth.authenticated,\n    admin: state.user.acl && state.user.acl && state.user.acl.includes('admin'),\n    user: state.user\n  }\n}\n\nconst dispatchProps = {\n  getBlog: getBlogData,\n  getCategories,\n  getUser: getCurrentUser\n};\n\nexport default connect(mapStateToProps, dispatchProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n// import { ThemeProvider } from 'styled-components';\nimport store from './store';\nimport App from './App';\n// import { Themes, GlobalStyle } from \"./styles\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      {/* <ThemeProvider theme={Themes.nightmode}>\n        <GlobalStyle /> */}\n        <App />\n      {/* </ThemeProvider> */}\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n  // If you want to start measuring performance in your app, pass a function\n  // to log results (for example: reportWebVitals(console.log))\n  // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n  // import reportWebVitals from './reportWebVitals';\n  // reportWebVitals(console.log);\n"],"sourceRoot":""}